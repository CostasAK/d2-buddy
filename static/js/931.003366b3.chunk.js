"use strict";(self.webpackChunkd2_buddy=self.webpackChunkd2_buddy||[]).push([[931],{5402:function(e,n,t){t.d(n,{Z:function(){return i}});t(4270);var r=t(2791),s=t(4229),a=t(184);function i(e){var n=e.title,t=e.cardContent,i=e.modalContent,o=e.link,c=e.icon,l=e.className,d=e.floatIcon,u=e.order,m=(0,r.useMemo)((function(){return(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)("h4",{className:"title",children:n}),t&&(0,a.jsx)("section",{className:"card-content",children:t})]})}),[t,n]),p=(0,r.useMemo)((function(){return c?(0,r.isValidElement)(c)?(0,r.cloneElement)(c,{className:"icon "+(c.props.className||"")}):(0,a.jsx)("img",{className:"icon",src:c,alt:""}):null}),[c]),h=(0,r.useCallback)((function(e){return(0,a.jsxs)(a.Fragment,{children:[p&&p,e]})}),[p]),f=(0,r.useCallback)((function(e){return i?(0,a.jsx)("article",{className:"card clickable "+l+" "+(d?"floating-icon":p?"side-icon":""),style:{order:u},children:e}):o?o.startsWith("steam://")?(0,a.jsx)("a",{className:"card clickable "+l+" "+(d?"floating-icon":p?"side-icon":""),href:o,style:{order:u},children:e}):(0,a.jsx)("a",{className:"card clickable "+l+" "+(d?"floating-icon":p?"side-icon":""),href:o,target:"_blank",rel:"noreferrer",style:{order:u},children:e}):(0,a.jsx)("article",{className:"card "+l+" "+(d?"floating-icon":p?"side-icon":""),style:{order:u},children:e})}),[l,d,p,o,i,u]);return i?(0,a.jsx)(s.Z,{triggerContent:f(h(m)),className:l,background:c,children:(0,a.jsxs)("article",{className:"modal-text",children:[n&&(0,a.jsx)("h1",{className:"title",children:n}),i&&(0,a.jsx)("section",{className:"modal-content",children:i})]})}):f(h(m))}i.defaultProps={floatIcon:!1}},4996:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(935),s=t(184),a={weapons:{"Combat Bow":{symbol:"\ue099",name:"Bow"},"Auto Rifle":{symbol:"\ue100",name:"Auto Rifle"},"Pulse Rifle":{symbol:"\ue101",name:"Pulse Rifle"},"Scout Rifle":{symbol:"\ue102",name:"Scout Rifle"},"Hand Cannon":{symbol:"\ue103",name:"Hand Cannon"},"Submachine Gun":{symbol:"\ue107",name:"Submachine Gun"},Sidearm:{symbol:"\ue109",name:"Sidearm"},Shotgun:{symbol:"\ue104",name:"Shotgun"},"Sniper Rifle":{symbol:"\ue105",name:"Sniper Rifle"},"Fusion Rifle":{symbol:"\ue106",name:"Fusion Rifle"},"Grenade Launcher":{symbol:"\ue155",name:"Grenade Launcher"},Glaive:{symbol:"\ue156",name:"Glaive"},"Rocket Launcher":{symbol:"\ue108",name:"Rocket Launcher"},"Heavy Grenade Launcher":{symbol:"\ue113",name:"Heavy Grenade Launcher"},"Linear Fusion Rifle":{symbol:"\ue152",name:"Linear Fusion Rifle"},Sword:{symbol:"\ue153",name:"Sword"},"Machine Gun":{symbol:"\ue154",name:"Machine Gun"},"Trace Rifle":{symbol:"\ue138",name:"Trace Rifle"}},elements:{Kinetic:{symbol:"",name:"Kinetic"},Void:{symbol:"\ue144",name:"Void"},Solar:{symbol:"\ue140",name:"Solar"},Arc:{symbol:"\ue143",name:"Arc"},Stasis:{symbol:"\ue139",name:"Stasis"}},activities:{LostSector:{symbol:"\ue145",name:"Lost Sector"},Destination:{symbol:(0,s.jsx)("img",{src:"https://www.bungie.net/common/destiny2_content/icons/c60303e278aa5fc566a04e98c3d8024c.png",alt:"",style:{aspectRatio:"1 / 1",maxWidth:"96px",maxHeight:"96px",height:"1.5em",lineHeight:"1"}}),name:"Destination"}},champions:{modifiers:{Overload:{symbol:(0,s.jsx)("img",{src:"https://bungie.net/common/destiny2_content/icons/c4d9c4f1ec3167e272286bb155dc15f4.png",alt:"",style:{aspectRatio:"1 / 1",maxWidth:"60px",maxHeight:"60px",height:"1.5em",lineHeight:"1"}}),name:"Overload Champions"},Unstoppable:{symbol:(0,s.jsx)("img",{src:"https://bungie.net/common/destiny2_content/icons/0e40371c49f0beac97e5fd9dc2ea9348.png",alt:"",style:{aspectRatio:"1 / 1",maxWidth:"60px",maxHeight:"60px",height:"1.5em",lineHeight:"1"}}),name:"Unstoppable Champions"},Barrier:{symbol:(0,s.jsx)("img",{src:"https://bungie.net/common/destiny2_content/icons/2ac9bcf4a961c3b3e31da7b76a5a87f9.png",alt:"",style:{aspectRatio:"1 / 1",maxWidth:"60px",maxHeight:"60px",height:"1.5em",lineHeight:"1"}}),name:"Barrier Champions"}}},controllers:{playstation:{Cross:{symbol:"\ue025",name:"Cross"}}}},i=[].concat(["Kinetic","Arc","Solar","Void","Stasis"]);var o=function(e){var n=e.icon,t=e.color,o=e.style,c=e.className,l=e.onClick,d=e.tooltip;try{var u=n.reduce((function(e,n){return e[n]}),a);return(0,s.jsx)(r.Z,{contents:d,children:(0,s.jsx)("span",{className:"destiny-icon "+n.join(" ")+" "+(i.includes(t)?t.toLowerCase():"")+" "+(c||""),style:o,onClick:l,children:u.symbol})})}catch(m){return console.warn("Unknown Destiny icon: ".concat(n,". ").concat(m)),null}}},4229:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),s=t(885),a=(t(4270),t(2791)),i=t(4996),o=t(9136),c=t(7948),l=t.n(c),d=t(9078),u=t(935),m=t(184);function p(e){var n=e.triggerContent,t=e.className,c=e.tooltip,p=e.background,h=e.children,f=(0,a.useState)(!1),v=(0,s.Z)(f,2),g=v[0],y=v[1],x=(0,a.useState)(0),j=(0,s.Z)(x,2),b=j[0],w=j[1],k=(0,a.useMemo)((function(){return(0,a.isValidElement)(n)?(0,a.cloneElement)(n,{onClick:function(){return y(!0)}}):n}),[n]),S=(0,a.useCallback)((function(e,n){return(0,m.jsxs)(l(),{isOpen:e,onRequestClose:function(){return y(!1)},className:"modal "+(t||""),overlayClassName:"modal-overlay",closeTimeoutMS:250,appElement:document.getElementById("root"),style:n?{content:{width:n+2}}:{},children:[(0,m.jsx)(i.Z,{icon:["controllers","playstation","Cross"],className:"close",onClick:function(){return y(!1)},tooltip:"Close Pop-up"}),(0,m.jsx)("div",{className:"background",style:{backgroundImage:"url(".concat(p,")")}}),(0,m.jsx)(d.Z,{className:"modal-scroll",children:(0,m.jsx)(o.Z,{bounds:!0,onResize:function(e){w(e.bounds.width)},children:function(e){var n=e.measureRef;return(0,m.jsx)("div",{ref:n,className:"modal-inner",children:h})}})})]})}),[p,h,t]);return(0,m.jsxs)(m.Fragment,{children:[c?(0,m.jsx)(u.Z,(0,r.Z)((0,r.Z)({},c),{},{children:k})):k,S(g,b)]})}},935:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(1413),s=t(885),a=t(2791),i=t(5733),o=t(184);function c(e){var n=e.trigger,t=e.backgroundColor,c=e.children,l=(0,a.useState)(null),d=(0,s.Z)(l,2),u=d[0],m=d[1],p=(0,a.useState)(null),h=(0,s.Z)(p,2),f=h[0],v=h[1],g=(0,i.D)(n,u,{modifiers:[{name:"arrow",options:{element:f}},{name:"offset",options:{offset:[0,8]}}]}),y=g.styles,x=g.attributes;return(0,o.jsxs)("div",(0,r.Z)((0,r.Z)({className:"popper",ref:m,style:(0,r.Z)((0,r.Z)({},y.popper),{},{backgroundColor:t})},x.popper),{},{children:[c,(0,o.jsx)("div",{className:"popper-arrow",ref:v,style:y.arrow})]}))}function l(e){var n=e.contents,t=e.backgroundColor,r=e.children,i=(0,a.useState)(null),l=(0,s.Z)(i,2),d=l[0],u=l[1],m=(0,a.useState)(!1),p=(0,s.Z)(m,2),h=p[0],f=p[1],v=(0,a.useMemo)((function(){return n?(0,a.isValidElement)(r)?(0,a.cloneElement)(r,{ref:u,onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)},className:r.props.className+" popper-content"}):(0,o.jsx)("div",{ref:u,className:"popper-content",children:r}):r}),[r,n]);return(0,o.jsxs)(o.Fragment,{children:[v,h&&(0,o.jsx)(c,{trigger:d,backgroundColor:t,children:n})]})}},6931:function(e,n,t){t.r(n),t.d(n,{default:function(){return He}});var r=t(2982),s=t(885),a=t(5861),i=t(7757),o=t.n(i),c=t(7184),l=t(2791),d=t(8014),u=t(8914),m=t(7892),p=t.n(m);function h(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!n)return f(e,!1);var t=new Intl.DateTimeFormat(void 0,{hour:"numeric"}).formatToParts(new Date(e));return void 0!==t.dayPeriod?p()(e).format("h:mm A"):p()(e).format("H:mm")}function f(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p()(e).format("ddd, D MMM YYYY")+(n?" "+h(e):"")}var v=t(5402);function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}var y=1e3,x=6e4,j=36e5,b=24*j,w=30*b,k=365*b;function S(e){if(Math.abs(e)<750)return"now";var n=function(e){var n=Math.abs(e);if(n<1500)return"1 second";if(n<45e3)return"".concat(Math.round(n/y)," seconds");if(n<9e4)return"1 minute";if(n<=345e4)return"".concat(Math.round(n/x)," minutes");if(n<22*j)return"".concat(n%j/j<.875?Math.floor(n/j):Math.ceil(n/j)).concat(n%j/j<.125||n%j/j>=.875?"":n%j/j<.375?"\xbc":n%j/j<.625?"\xbd":"\xbe"," hour").concat(n<675e4?"":"s");if(n<1.5*b)return"1 day";if(n<26*b)return"".concat(Math.round(n/b)," days");if(n<46*b)return"1 month";if(n<11*w)return"".concat(Math.round(n/w)," months");if(n<18*w)return"1 year";return"".concat(Math.round(n/k)," years")}(e);return e<0?"".concat(n," ago"):"in ".concat(n)}function N(e){return e&&e<=Date.now()}function _(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now()+1e3;if(!e||!n)return n;var r=(n-=n%1e3)%e,s=(t+=1e3-t%1e3)%e||0;return s<r?t-s+r:t-s+r+e}var C=t(3540);function Z(e){return!!e&&new Date(e).getTime()}var R=t(184),D=6e4,A=864e5;function P(e){var n=(0,l.useState)(_(e.period,Z(e.end))),t=(0,s.Z)(n,2),r=t[0],a=t[1],i=(0,l.useState)((function(){for(var n=_(e.period,Z(e.start));e.period&&r&&n>r;)n-=e.period;return n})),o=(0,s.Z)(i,2),c=o[0],d=o[1],u=(0,l.useState)(Date.now()),m=(0,s.Z)(u,2),p=m[0],y=m[1];(0,l.useEffect)((function(){var n=setTimeout((function(){a(_(e.period,Z(r))),y((function(){return Date.now()})),d((function(){for(var n=_(e.period,Z(c));e.period&&r&&n>=r;)n-=e.period;return n}))}),1e3);return function(){return clearTimeout(n)}}),[p,c,r,e.period]);var x=!!e.period,j=!1;N(c)&&(j=!0);var b=!1;if((N(r)||!r&&N(c+A)||!x&&(N(r)||!r&&N(c+A)))&&(b=!0),b)return null;var w=c;j&&r&&(w=r);var k,P=S(w-p);k=j&&!r?"On "+f(w,e.hasTime):N(w-A)?"at "+h(w,e.hasTime):"on "+f(w,e.hasTime);var M=w/D;x||(M-=5259600);var B,O="string"===typeof e.description||e.description instanceof String?(0,C.ZP)(e.description):e.description;return(0,R.jsx)(v.Z,{className:"timer-card "+(j?"highlight":""),icon:e.icon,title:e.name,cardContent:(B=(x||!j||r?P+", ":"")+k,B.split(". ").map(g).join(". ")),modalContent:O||void 0,order:M,link:e.link})}P.defaultProps={end:!1,period:!1,hasTime:!0,description:!1};var M=864e5;function B(e){var n=e.name,t=e.items,r=e.start,a=e.period,i=e.icon,o=(0,l.useState)(Date.now()),c=(0,s.Z)(o,2),d=c[0],u=c[1],m=(0,l.useState)(_(a,Z(r))),p=(0,s.Z)(m,2),g=p[0],y=p[1];function x(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!n&&N(e-M)?h(e):f(e)}(0,l.useEffect)((function(){var e=setTimeout((function(){u((function(){return Date.now()})),y((function(){return _(a,Z(r))}))}),1e3);return function(){clearTimeout(e)}}),[r,a,g,d]);var j=(g-157788e6)/6e4,b=Math.floor((d-r)/a)%t.length,w=(0,R.jsxs)(R.Fragment,{children:[t[b],"Cycles "+function(e){var n=S(e-d);return N(e-M)?n+", at "+x(e):n+", on "+x(e)}(g)]}),k=(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("section",{children:w}),(0,R.jsxs)("section",{className:"upcoming-items",children:[(0,R.jsx)("h3",{children:"Upcoming"}),t.map((function(e,n){var r=(n-b+t.length-1)%t.length;return(0,R.jsxs)("section",{style:{order:r},children:[e,x(g+r*a,!0)]},n)}))]})]});return(0,R.jsx)(v.Z,{className:"cycle-card",title:n,order:j,cardContent:w,modalContent:k,icon:i})}B.defaultProps={period:M};var O=t(4996),T=t(4036),U=t(4229);var V=function(e){var n=e.Response.screenshot||e.Response.pgcrImage;return n?"https://bungie.net"+n:null},L=t(6107),E=function(e,n){return Object.keys(e).find((function(t){return e[t]===n}))};var H=function(e){return E(L.BN,e.Response.defaultDamageType).replace(/thermal/i,"Solar")};var F=function(e){var n=e.Response.itemTypeDisplayName;return"Grenade Launcher"===n&&L.JS.Heavy===e.Response.equippingBlock.ammoType&&(n="Heavy "+n),n},G={Legendary:"#4e3263",Exotic:"#cdad34"};var W=function(e){return G[e]||"#04040e"},I=t(4569),K=t.n(I)().create({baseURL:"https://www.bungie.net/Platform",headers:{Accept:"application/json","X-API-KEY":"8b8aaf0af60d41d5bccbc3af3445ef65"}}),z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return K({url:e,method:n,headers:t})},Y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Array.isArray(e)?e:[e];return Promise.all(r.map((function(e){return K({url:e,method:n,headers:t})})))},Q=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2?arguments[2]:void 0,r=(0,l.useState)(Array.isArray(e)?new Array(e.length):{}),a=(0,s.Z)(r,2),i=a[0],o=a[1],c=(0,l.useState)(!1),d=(0,s.Z)(c,2),u=d[0],m=d[1],p=(0,l.useState)(!0),h=(0,s.Z)(p,2),f=h[0],v=h[1],g=(0,l.useCallback)((function(){return Y(e,n,t).then((function(e){o(e.length>1?e.map((function(e){return e.data})):e[0].data),v(!1)})).catch((function(e){m(e),v(!1)}))}),[e,n,t]);return(0,l.useEffect)((function(){g()}),[g]),{data:i,error:u,isPending:f}},X=[{name:"DestinyTracker",url:"https://destinytracker.com/destiny-2/db/items/",icon:"https://cod.tracker.gg/public/icons/icon192.png"},{name:"Gunsmith",url:"https://d2gunsmith.com/w/",icon:"https://d2gunsmith.com/favicon.ico"},{name:"Light.gg",url:"https://www.light.gg/db/en/items/",icon:"https://www.light.gg/Content/Images/new-icon.png"}];function q(e){var n=e.id;return(0,R.jsx)("ul",{className:"weapon-links",children:X.map((function(e){return(0,R.jsx)("li",{children:(0,R.jsxs)("a",{className:"site-link",href:e.url+n,target:"_blank",rel:"noreferrer",children:[e.icon&&(0,R.jsx)("img",{alt:"",src:e.icon,className:"site-icon"}),e.name]})},e.name)}))})}function $(e){var n=e.id,t=e.name,r=Q("".concat("/Destiny2/Manifest/DestinyInventoryItemDefinition/").concat(n,"/")),s=r.data,a=r.error;if(r.isPending)return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:"destiny-weapon",children:[(0,R.jsx)(T.Z,{size:"inline"})," ",t&&(0,R.jsx)("span",{children:t})]})});if(a)return console.error(a),null;t||(t=s.Response.displayProperties.name);var i=F(s),o=H(s),c=s.Response.inventory.tierTypeName,l=V(s);return(0,R.jsx)(U.Z,{triggerContent:(0,R.jsxs)("div",{className:"destiny-weapon a-link",children:[(0,R.jsx)(O.Z,{icon:["weapons",i],color:o})," ",(0,R.jsx)("span",{children:t})]}),tooltip:{contents:"".concat(c," ").concat(o," ").concat(i),backgroundColor:W(c)},children:(0,R.jsxs)("article",{className:"weapon-modal "+c.toLowerCase(),children:[(0,R.jsx)("div",{className:"weapon-screenshot",style:{backgroundImage:"url(".concat(l,")")},children:(0,R.jsx)(q,{id:n})}),(0,R.jsxs)("div",{className:"weapon-header",children:[(0,R.jsx)("img",{src:"https://bungie.net"+s.Response.displayProperties.icon,alt:"",className:"weapon-icon"}),(0,R.jsxs)("div",{className:"weapon-header-text",children:[(0,R.jsx)("h3",{children:t}),(0,R.jsxs)("p",{children:[c," |"," ",(0,R.jsx)(O.Z,{icon:["elements",o],color:o})," ",o," | ",(0,R.jsx)(O.Z,{icon:["weapons",i]})," ",i]})]})]})]})})}var J=[(0,R.jsx)($,{id:"2782847179",name:"Blasphemer"}),(0,R.jsx)($,{id:"2164448701",name:"Apostate"}),(0,R.jsx)($,{id:"3067821200",name:"Heretic"})];function ee(){return(0,R.jsx)(B,{name:"Altars of Sorrow Weapon",items:J,start:16488324e5,period:864e5,icon:"https://www.bungie.net/common/destiny2_content/icons/58bf5b93ae8cfefc55852fe664179757.png"})}var ne=function(e){var n=e.id,t=Q("".concat("/Destiny2/Manifest/DestinyDestinationDefinition/").concat(n,"/")),r=t.data,s=t.error;return t.isPending?(0,R.jsxs)("div",{className:"destination",children:[(0,R.jsx)(O.Z,{icon:["activities","Destination"]}),(0,R.jsx)(T.Z,{size:"inline"})]}):s?(console.error(s),null):(0,R.jsxs)("p",{className:"destination",children:[(0,R.jsx)(O.Z,{icon:["activities","Destination"]}),r.Response.displayProperties.name]})},te={LostSector:"Lost Sector"};var re=function(e){var n=E(L.EI,e.Response.directActivityModeType);return te[n]||n};function se(e){var n=e.data,t=e.name;t||(t=n.Response.displayProperties.name);var r=re(n),s=V(n);return(0,R.jsxs)("section",{className:"activity-header",style:{backgroundImage:"url(".concat(s,")")},children:[(0,R.jsx)("h5",{className:"activity-type",children:r}),(0,R.jsx)("h1",{className:"activity-name",children:t}),(0,R.jsx)(ne,{id:n.Response.destinationHash})]})}se.defaultProps={};var ae=se,ie=t(935),oe=[{class:"Overload",pattern:/Disruption|Overload/i},{class:"Unstoppable",pattern:/Stagger|Unstoppable/i},{class:"Barrier",pattern:/Shield-Piercing|Barrier/i}];function ce(e){var n=e.champions,t=e.known_champions;if(!n||n.length<1)return null;var s=new Set;return n.map((function(e){return oe.map((function(n){return n.pattern.test(e.Response.displayProperties.description)&&s.add(n.class)}))})),(0,R.jsxs)("section",{className:"activity-champions",children:[(0,R.jsx)("h5",{className:"heading",children:"Champions"}),(0,R.jsx)("div",{className:"champions",children:(0,r.Z)(s).map((function(e,n){return(0,R.jsx)(ie.Z,{contents:"".concat(e," Champions"),children:(0,R.jsxs)("div",{className:"champion "+e,children:[(0,R.jsx)(O.Z,{icon:["champions","modifiers",e],style:{filter:"brightness(".concat(t[e]&&"75%",")")}}),t[e]>0&&(0,R.jsx)("span",{className:"champion-amount",children:t[e]})]},n)},n)}))})]})}ce.defaultProps={champions:[],known_champions:{}};var le=ce;function de(e){var n=e.data,t=n.Response.displayProperties.name,r=n.Response.displayProperties.icon,s=n.Response.displayProperties.description?(0,R.jsx)("p",{children:n.Response.displayProperties.description.replace(/(?:[\s.,]*\n+[\s.,]*)+/g,"; ").replace(/(\[Disruption|Stagger\])/g,"|$1|").split("|")}):null;if(!r||!t)return null;var a=[{class:"arc",pattern:/arc/i},{class:"solar",pattern:/solar/i},{class:"void",pattern:/void/i},{class:"stasis",pattern:/stasis/i}];return(0,R.jsxs)("section",{className:"activity-modifier",children:[(0,R.jsx)(ie.Z,{contents:t,children:(0,R.jsx)("img",{className:"icon"+a.filter((function(e){return e.pattern.test(t)})).reduce((function(e,n){return e+" "+n.class}),""),src:"https://bungie.net"+r,alt:""})}),(0,R.jsxs)("div",{className:"description",children:[(0,R.jsx)("h6",{className:"heading"+a.filter((function(e){return e.pattern.test(t)})).reduce((function(e,n){return e+" "+n.class}),""),children:t}),s]})]})}de.defaultProps={};var ue=de,me=[{name:"Arc",pattern:/arc/i},{name:"Solar",pattern:/solar/i},{name:"Void",pattern:/void/i},{name:"Stasis",pattern:/stasis/i}];function pe(e){var n=e.shields,t=e.known_shields;if(!n||n.length<1)return null;var s=new Set;return n.map((function(e){return me.map((function(n){return n.pattern.test(e.Response.displayProperties.description)&&s.add(n.name)}))})),(0,R.jsxs)("section",{className:"activity-shields",children:[(0,R.jsx)("h5",{className:"heading",children:"Shields"}),(0,R.jsx)("div",{className:"shields",children:(0,r.Z)(s).map((function(e,n){return(0,R.jsx)(ie.Z,{contents:"".concat(e," Shields"),children:(0,R.jsxs)("div",{className:"shield",children:[(0,R.jsx)(O.Z,{icon:["elements",e],color:e}),t[e]>0&&(0,R.jsx)("span",{className:"shield-amount",children:t[e]})]},n)},n)}))})]})}pe.defaultProps={shields:[],known_shields:{}};var he=pe;function fe(e){var n=e.data,t=e.known_shields,r=e.known_champions,s=Q(n.Response.modifiers.map((function(e){return"".concat("/Destiny2/Manifest/DestinyActivityModifierDefinition/").concat(e.activityModifierHash,"/")}))),a=s.data,i=s.error;if(s.isPending)return(0,R.jsx)("section",{className:"activity-modifiers",children:(0,R.jsx)(T.Z,{size:"section"})});if(i)return console.error(i),null;var o=a.filter((function(e){return/shielded foes/i.test(e.Response.displayProperties.name)})),c=a.filter((function(e){return/champion foes/i.test(e.Response.displayProperties.name)})),l=a.filter((function(e){return!/(shielded|champion) foes|champions: mob/i.test(e.Response.displayProperties.name)}));return(0,R.jsxs)("section",{className:"activity-modifiers",children:[o.length>0&&(0,R.jsx)(he,{shields:o,known_shields:t}),c.length>0&&(0,R.jsx)(le,{champions:c,known_champions:r}),l.length>0&&(0,R.jsxs)("section",{className:"other-modifiers",children:[(0,R.jsx)("h5",{className:"heading",children:"Modifiers"}),(0,R.jsx)("div",{className:"modifiers",children:l.map((function(e,n){return(0,R.jsx)(ue,{data:e},n)}))})]})]})}fe.defaultProps={};var ve=fe,ge={0:{known_shields:{Void:0,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:0,Unstoppable:0}},480864726:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:3,Overload:0,Unstoppable:1}},480864721:{known_shields:{Void:0,Solar:0,Arc:1},known_champions:{Barrier:5,Overload:0,Unstoppable:2}},145221019:{known_shields:{Void:5,Solar:0,Arc:7},known_champions:{Barrier:0,Overload:1,Unstoppable:2}},145221020:{known_shields:{Void:5,Solar:0,Arc:4},known_champions:{Barrier:0,Overload:4,Unstoppable:2}},3094493720:{known_shields:{Void:0,Solar:2,Arc:4},known_champions:{Barrier:3,Overload:0,Unstoppable:1}},3094493727:{known_shields:{Void:0,Solar:2,Arc:2},known_champions:{Barrier:3,Overload:0,Unstoppable:4}},2936791996:{known_shields:{Void:4,Solar:0,Arc:0},known_champions:{Barrier:2,Overload:2,Unstoppable:0}},2936791995:{known_shields:{Void:3,Solar:0,Arc:0},known_champions:{Barrier:5,Overload:4,Unstoppable:0}},1898610132:{known_shields:{Void:9,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:2,Unstoppable:2}},1898610131:{known_shields:{Void:10,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:4,Unstoppable:3}},660710127:{known_shields:{Void:1,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:2,Unstoppable:3}},660710120:{known_shields:{Void:1,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:3,Unstoppable:4}},4206916275:{known_shields:{Void:17,Solar:2,Arc:0},known_champions:{Barrier:0,Overload:1,Unstoppable:3}},4206916276:{known_shields:{Void:29,Solar:2,Arc:1},known_champions:{Barrier:0,Overload:3,Unstoppable:5}},3911969233:{known_shields:{Void:0,Solar:0,Arc:4},known_champions:{Barrier:4,Overload:0,Unstoppable:3}},3911969238:{known_shields:{Void:0,Solar:0,Arc:1},known_champions:{Barrier:7,Overload:0,Unstoppable:3}},184186581:{known_shields:{Void:0,Solar:10,Arc:0},known_champions:{Barrier:3,Overload:2,Unstoppable:0}},184186578:{known_shields:{Void:0,Solar:10,Arc:0},known_champions:{Barrier:4,Overload:6,Unstoppable:0}},567131512:{known_shields:{Void:0,Solar:8,Arc:3},known_champions:{Barrier:3,Overload:2,Unstoppable:0}},567131519:{known_shields:{Void:0,Solar:8,Arc:3},known_champions:{Barrier:4,Overload:6,Unstoppable:0}},3678847129:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:0,Overload:3,Unstoppable:2}},3678847134:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:0,Overload:3,Unstoppable:4}}};var ye=function(e){try{return ge[e]}catch(n){return console.warn(n),null}},xe="DestinyActivityDefinition",je="/Destiny2/Manifest/".concat(xe,"/"),be="/Destiny2/Armory/Search/".concat(xe,"/"),we=function(e){var n=(0,l.useState)(new Array(2)),t=(0,s.Z)(n,2),r=t[0],a=t[1],i=(0,l.useState)(!1),o=(0,s.Z)(i,2),c=o[0],d=o[1],u=(0,l.useState)(!1),m=(0,s.Z)(u,2),p=m[0],h=m[1],f=(0,l.useState)(!0),v=(0,s.Z)(f,2),g=v[0],y=v[1],x=(0,l.useCallback)((function(){return Y(be+e).then((function(e){d([e[0].data.Response.results.results.filter((function(e){return e.displayProperties.name.endsWith(": Legend")}))[0].hash,e[0].data.Response.results.results.filter((function(e){return e.displayProperties.name.endsWith(": Master")}))[0].hash])})).catch((function(e){h(e),y(!1)}))}),[e]),j=(0,l.useCallback)((function(){return Y(c.map((function(e){return je+e}))).then((function(e){a(e.map((function(e){return e.data}))),y(!1)})).catch((function(e){h(e),y(!1)}))}),[c]);return(0,l.useEffect)((function(){x()}),[x]),(0,l.useEffect)((function(){c&&j()}),[j,c]),{data:r,error:p,isPending:g}};function ke(e){var n=e.name,t=we(n),r=t.data,s=t.error;if(t.isPending)return(0,R.jsx)("article",{className:"lost-sector",children:(0,R.jsx)(T.Z,{size:"page",fadeIn:"none"})});if(s)return console.error(s),(0,R.jsx)("article",{className:"lost-sector",children:(0,R.jsx)("h2",{className:"error",children:"Can't find Lost Sector info..."})});var a=ye(r[0].Response.hash),i=a.known_shields,o=a.known_champions,c=ye(r[1].Response.hash),l=c.known_shields,d=c.known_champions;return(0,R.jsxs)("article",{className:"lost-sector success",children:[(0,R.jsx)(ae,{data:r[0],name:r[0].Response.displayProperties.name.replace(/: (Legend|Master)$/i,"")}),(0,R.jsxs)("section",{className:"legend-difficulty",children:[(0,R.jsx)("h2",{className:"heading",children:"Legend"}),(0,R.jsx)(ve,{data:r[0],known_shields:i,known_champions:o})]}),(0,R.jsxs)("section",{className:"master-difficulty",children:[(0,R.jsx)("h2",{className:"heading",children:"Master"}),(0,R.jsx)(ve,{data:r[1],known_shields:l,known_champions:d})]})]})}function Se(e,n){return n?Se(n,e%n):e}function Ne(e,n){return e*n/Se(e,n)}function _e(e){var n=e.location;return(0,R.jsx)(U.Z,{triggerContent:(0,R.jsxs)("span",{className:"a-link",children:[n.name," - ",n.location]}),background:"https://www.bungie.net/common/destiny2_content/icons/DestinyActivityModeDefinition_7d11acd7d5a3daebc0a0c906452932d6.png",children:(0,R.jsx)(ke,{name:n.name})})}function Ce(){var e=(0,l.useMemo)((function(){var e=[{name:"K1 Crew Quarters",location:"Moon"},{name:"K1 Logistics",location:"Moon"},{name:"Metamorphosis",location:"Throne World"},{name:"Sepulcher",location:"Throne World"},{name:"Extraction",location:"Throne World"},{name:"Veles Labyrinth",location:"Cosmodrome"},{name:"Exodus Garden A2",location:"Cosmodrome"},{name:"Aphelion's Rest",location:"Dreaming City"},{name:"Bay of Drowned Wishes",location:"Dreaming City"},{name:"Chamber of Starlight",location:"Dreaming City"},{name:"K1 Revelation",location:"Moon"}],n=["Arms","Chest","Helmet","Legs"],t=[];do{t.push((0,R.jsxs)("div",{children:[(0,R.jsx)(_e,{location:e[t.length%e.length]})," (",n[t.length%n.length],")"]}))}while(t.length<Ne(n.length,e.length));return t}),[]);return(0,R.jsx)(B,{name:"Legend & Master Lost Sector",items:e,start:16489188e5,period:864e5,icon:"https://www.bungie.net/common/destiny2_content/icons/DestinyActivityModeDefinition_7d11acd7d5a3daebc0a0c906452932d6.png"})}var Ze=["Cosmodrome","Moon","EDZ"].map((function(e){return(0,R.jsx)("div",{children:e})}));function Re(){return(0,R.jsx)(B,{name:"PsiOps Battleground: Legend",items:Ze,start:16485732e5,period:6048e5,icon:"https://www.bungie.net/common/destiny2_content/icons/b5ca23093632aa939e8209a2ee558106.png"})}var De=t(1933);function Ae(){var e,n,t,r,s,a=(0,De.useQuery)("d2settings",(function(){return z("/Settings/")})),i=null===a||void 0===a||null===(e=a.data)||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.Response)||void 0===t||null===(r=t.destiny2CoreSettings)||void 0===r?void 0:r.currentSeasonHash,o=(0,De.useQuery)("seasons",(function(){return z("/Destiny2/Manifest/DestinySeasonDefinition/".concat(i))}),{enabled:!!i}),c=o.isLoading,l=o.error,d=o.data;if(a.isLoading||c)return null;if(a.error||l)return console.error(a.error),null;var u=null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.Response;return(0,R.jsx)(P,{name:"Season ".concat(u.seasonNumber,": ").concat(u.displayProperties.name),description:u.displayProperties.description,start:u.startDate,end:u.endDate,icon:"".concat("https://bungie.net").concat(u.displayProperties.icon)})}var Pe=[(0,R.jsx)($,{id:"2721157927",name:"Tarnation"}),(0,R.jsx)($,{id:"1399109800",name:"Fel Taradiddle"}),(0,R.jsx)($,{id:"3865728990",name:"Father's Sins"}),(0,R.jsx)($,{id:"927567426",name:"Come to Pass"})];function Me(){return(0,R.jsx)(B,{name:"Wellspring Weapon",items:Pe,start:1648746e6,period:864e5,icon:"https://www.bungie.net/common/destiny2_content/icons/DestinyMilestoneDefinition_feb5aecca544ab023ecf3b74ac8f509b.png"})}var Be=36e5,Oe=864e5,Te=6048e5,Ue=function(){return[{name:"Daily Reset",start:(0,c.PR)().end,period:Oe,icon:(0,R.jsx)(d.jFC,{})},{name:"Weekly Reset",start:(0,c.nQ)().end,period:Te,icon:(0,R.jsx)(d.jFC,{}),link:"https://kyber3000.com/reset"},{name:"Weekend Activities",start:(0,c.yb)()?(0,c.yb)().start:(0,c.l2)().start,end:(0,c.yb)()?(0,c.yb)().end:(0,c.l2)().end,period:Te,icon:(0,R.jsx)(d.jFC,{}),description:(0,R.jsxs)("ul",{children:[(0,R.jsx)("li",{children:(0,R.jsx)("a",{href:"https://kyber3000.com/Xur",target:"_blank",rel:"noreferrer",children:"Xur"})}),(0,R.jsx)("li",{children:(0,R.jsx)("a",{href:"https://kyber3000.com/Trials",target:"_blank",rel:"noreferrer",children:"Trials of Osiris"})})]})},{name:"Season ".concat((0,c.ye)().seasonNumber),start:(0,c.ye)().start,end:(0,c.ye)().end}]};function Ve(){return(Ve=(0,a.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Le=function(e){return Ve.apply(this,arguments)}("https://raw.githubusercontent.com/CostasAK/d2-timers/events/events.json"),Ee=[{name:"Destiny Server and Update Status",link:"https://help.bungie.net/hc/en-us/articles/360049199271-Destiny-Server-and-Update-Status"},{name:"Bungie Maintenance Notifications",link:"https://twitter.com/BungieHelp"},{name:"Patch Notes",link:"https://www.bungie.net/en/Explore/Category?category=Updates"}];function He(){var e=l.useState([]),n=(0,s.Z)(e,2),t=n[0],a=n[1];Le.then((function(e){return a(e)}));var i=l.useState(Ue()),o=(0,s.Z)(i,2),c=o[0],d=o[1],m=l.useState(Date.now()),p=(0,s.Z)(m,2),h=p[0],f=p[1];l.useEffect((function(){var e=setTimeout((function(){d(Ue()),f((function(){return Date.now()}))}),Be-h%Be);return function(){return clearTimeout(e)}}),[h]);var v=[].concat((0,r.Z)(t),(0,r.Z)(c));return(0,R.jsxs)("div",{className:"timers-wrapper",children:[(0,R.jsxs)("div",{className:"timers",children:[(0,R.jsx)(Me,{}),(0,R.jsx)(Ce,{}),(0,R.jsx)(Re,{}),(0,R.jsx)(ee,{}),(0,R.jsx)(Ae,{}),v.map((function(e){return(0,R.jsx)(P,{name:e.name,description:e.description,start:e.start,end:e.end,period:e.period,hasTime:e.hasTime,icon:e.icon,link:e.link},e.name)}))]}),(0,R.jsx)("div",{className:"links",children:Ee.map((function(e){return(0,R.jsx)(u.Z,{href:e.link,children:e.name},e.name)}))})]})}},4270:function(){}}]);
//# sourceMappingURL=931.003366b3.chunk.js.map