"use strict";(self.webpackChunkd2_buddy=self.webpackChunkd2_buddy||[]).push([[635],{8251:function(e,n,i){i.r(n),i.d(n,{default:function(){return Ue}});var r,t=i(885),a=i(171),o=i(2791),s=i(9412),l=i(168),d=i(6031),c=(0,d.iv)(r||(r=(0,l.Z)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-start;\n  align-items: safe center;\n  text-align: center;\n  margin: auto;\n"]))),u=d.ZP.section.withConfig({displayName:"CycleCardModalStyle__CurrentItem",componentId:"sc-8dv19i-0"})([""," margin-top:",";"],c,(function(e){return e.theme.lengths.pad})),p=d.ZP.section.withConfig({displayName:"CycleCardModalStyle__UpcomingItems",componentId:"sc-8dv19i-1"})([""," gap:",";& > h3{margin:auto;margin-top:",";order:-1;}"],c,(function(e){return e.theme.lengths.gap}),(function(e){return e.theme.lengths.gap})),m=i(1413),v=i(5987),h=i(6107);function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e){if(Math.abs(e)<.75*a.E0)return"now";var n=function(e){var n=Math.abs(e);if(n<1*a.Z7)return"less than 1 minute";if(n<1.5*a.Z7)return"1 minute";if(n<=57.5*a.Z7)return"".concat(Math.round(n/a.Z7)," minutes");if(n<22*a.xO)return"".concat(n%a.xO/a.xO<.875?Math.floor(n/a.xO):Math.ceil(n/a.xO)).concat(n%a.xO/a.xO<.125||n%a.xO/a.xO>=.875?"":n%a.xO/a.xO<.375?"\xbc":n%a.xO/a.xO<.625?"\xbd":"\xbe"," hour").concat(n<1.875*a.xO?"":"s");if(n<1.5*a.v0)return"1 day";if(n<26*a.v0)return"".concat(Math.round(n/a.v0)," days");if(n<46*a.v0)return"1 month";if(n<11*a.iL)return"".concat(Math.round(n/a.iL)," months");if(n<18*a.iL)return"1 year";return"".concat(Math.round(n/a.ty)," years")}(e);return e<0?"".concat(n," ago"):"in ".concat(n)}function x(e){return e&&e<=Date.now()}var g=i(6175),w=i(184),j=(0,o.forwardRef)((function(e,n){var i=e.timestamp,r=e.hasTime,s=e.prefix,l=e.conditions,d=e.className,c=(0,o.useState)(Date.now()),u=(0,t.Z)(c,2),p=u[0],m=u[1],v=(0,o.useState)(y(i-p)),j=(0,t.Z)(v,2),k=j[0],b=j[1];(0,o.useEffect)((function(){var e=setTimeout((function(){m((function(){return Date.now()})),b((function(){return y(i-p)}))}),(0,g.R)(30*a.E0,0)-Date.now());return function(){return clearTimeout(e)}}),[p,i]),l=Array.isArray(l)?l:[l];var S,_;return i&&l.every((function(e){return!0===e||("past"===e?x(i):"future"===e?!x(i):"past"===(null===e||void 0===e?void 0:e.when)?x(e.timestamp):"future"===(null===e||void 0===e?void 0:e.when)?!x(e.timestamp):void 0)}))?(S=Math.abs(i-p)<a.v0?"at "+(0,h.m)(i,r):"on "+(0,h.p)(i,r),(0,w.jsx)("p",{ref:n,className:d,children:(_="".concat(s?"".concat(Array.isArray(s)?x(i)?s[1]:s[0]:s," "):"").concat(k?"".concat(k,", "):"").concat(S),_.split(". ").map(f).join(". "))})):null}));j.defaultProps={hasTime:!0,conditions:[!0]};var k=d.ZP.p.withConfig({displayName:"TimerCardDescriptionStyle__StyledDescription",componentId:"sc-an8yzt-0"})(["margin-top:",";"],(function(e){return e.theme.lengths.gap})),b=function(e){return e===a.xO?"Hourly":e===a.v0?"Daily":e===a.g0?"Weekly":e===a.iL?"Monrthly":e===a.ty?"Yearly":null},S=function(e){var n=e.start,i=e.end,r=e.period,t=e.description;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(j,{prefix:n&&i&&["Starts","Started"],timestamp:n}),(0,w.jsx)(j,{prefix:n&&i&&["Ends","Ended"],timestamp:i}),b(r)&&(0,w.jsxs)("p",{children:["Period: ",b(r)]}),t&&(0,w.jsx)(k,{children:t})]})},_=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=15046488e5;return(e-i+n)/a.Z7};function N(e){return!!e&&new Date(e).getTime()}var P=["description","start","end","period","hasTime"],Z=function(e,n,i){for(var r=(0,g.R)(i,N(e));i&&n&&r>=n;)r-=i;return r},D=(0,o.forwardRef)((function(e,n){var i=e.description,r=e.start,l=e.end,d=e.period,c=(e.hasTime,(0,v.Z)(e,P)),u=(0,o.useState)((0,g.R)(d,N(l))),p=(0,t.Z)(u,2),h=p[0],f=p[1],y=(0,o.useState)(Z(r,h,d)),k=(0,t.Z)(y,2),b=k[0],D=k[1];return(0,o.useEffect)((function(){var e=Math.max(b&&h?Math.min(b,h):b||h,(0,g.R)(a.Z7,0))-Date.now(),n=setTimeout((function(){f((0,g.R)(d,N(h))),D(Z(b,h,d))}),e);return function(){return clearTimeout(n)}}),[b,h,d]),x(h)||!h&&x(b+a.v0)||!d&&(x(h)||!h&&x(b+a.v0))?null:(0,w.jsxs)(s.Z,(0,m.Z)((0,m.Z)({ref:n,modalContent:(0,w.jsx)(S,{start:b,end:h,period:d,description:i}),style:{order:_(b,d?0:-10*a.ty)},highlight:x(b)},c),{},{children:[(0,w.jsx)(j,{prefix:b&&h&&"Starts",timestamp:b,conditions:"future"}),(0,w.jsx)(j,{prefix:b&&h&&"Ends",timestamp:h,conditions:["future",{timestamp:b,when:"past"}]})]}))}));D.defaultProps={hasTime:!0};var A=D,O=function(e){var n=e.items,i=e.nextCycle,r=e.currentItem,t=e.period;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{children:["Period: ",b(t)]}),(0,w.jsxs)(u,{children:[n[r],(0,w.jsx)(j,{prefix:"Cycles",timestamp:i})]}),n.length>1&&(0,w.jsxs)(p,{children:[(0,w.jsx)("h3",{children:"Upcoming"}),n.map((function(e,a){var o=(a-r+n.length-1)%n.length;return(0,w.jsxs)("section",{style:{order:o},children:[e,(0,w.jsx)(j,{timestamp:i+o*t})]},a)}))]})]})},U=(0,o.forwardRef)((function(e,n){var i=e.title,r=e.items,l=e.start,d=e.period,c=e.icon,u=(0,o.useState)((0,g.R)(d,N(l))),p=(0,t.Z)(u,2),m=p[0],v=p[1],h=(0,o.useState)(Math.floor((Date.now()-l)/d)%r.length),f=(0,t.Z)(h,2),y=f[0],x=f[1];return(0,o.useEffect)((function(){var e=setTimeout((function(){v((0,g.R)(d,N(l))),x(Math.floor((Date.now()-l)/d)%r.length)}),m-Date.now());return function(){clearTimeout(e)}}),[l,d,m,r.length]),(0,w.jsxs)(s.Z,{ref:n,className:"cycle-card",title:i,style:{order:_(m,-5*a.ty)},modalContent:(0,w.jsx)(O,{items:r,nextCycle:m,currentItem:y,period:d}),icon:c,children:[r[y],(0,w.jsx)(j,{prefix:"Cycles",timestamp:m})]})}));U.defaultProps={period:a.v0};var L=U,M=i(3364),B=i(8521),C=i(9773),T=i(6938),I=i(4664);function V(e){var n=(null===e||void 0===e?void 0:e.screenshot)||(null===e||void 0===e?void 0:e.pgcrImage);return n?"https://bungie.net"+n:null}var R=i(4942),E=["None","Primary","Special","Heavy","Unknown"].reduce((function(e,n,i){var r;return Object.assign(e,(r={},(0,R.Z)(r,i,n),(0,R.Z)(r,n,i),r))}),{});var H=function(e){var n,i=null===e||void 0===e?void 0:e.itemTypeDisplayName;return"Grenade Launcher"===i&&(null===e||void 0===e||null===(n=e.equippingBlock)||void 0===n?void 0:n.ammoType)===E["Heavy"]&&(i="Heavy "+i),i},Q={Legendary:"#4e3263",Exotic:"#cdad34"};var W=function(e){return Q[e]||"#04040e"},F=i(1933),q=[{name:"DestinyTracker",url:"https://destinytracker.com/destiny-2/db/items/",icon:"https://cod.tracker.gg/public/icons/icon192.png"},{name:"Gunsmith",url:"https://d2gunsmith.com/w/",icon:"https://d2gunsmith.com/favicon.ico"},{name:"Light.gg",url:"https://www.light.gg/db/en/items/",icon:"https://www.light.gg/Content/Images/new-icon.png"}];function z(e){var n=e.id;return(0,w.jsx)("ul",{className:"weapon-links",children:q.map((function(e){return(0,w.jsx)("li",{children:(0,w.jsxs)(M.Z,{className:"site-link",href:e.url+n,children:[e.icon&&(0,w.jsx)(C.Z,{src:e.icon,className:"site-icon"}),e.name]})},e.name)}))})}function K(e){var n,i,r=e.id,t=e.name,a=(0,F.useQuery)(["DestinyInventoryItemDefinition",r]),o=a.data,s=a.error,l=a.isLoading,d=function(e){var n,i,r,t,a,o,s,l,d,c=Array.isArray(e);e=c?e:[e];var u=(0,F.useQueries)(e.map((function(e){return{queryKey:["DestinyDamageTypeDefinition",e],enabled:!!e}})));return{weaponElement:c?u.map((function(e){var n,i;return null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.displayProperties)||void 0===i?void 0:i.name})):null===u||void 0===u||null===(n=u[0])||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.displayProperties)||void 0===r?void 0:r.name,weaponElementIcon:c?u.map((function(e){var n,i,r,t;return(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.displayProperties)||void 0===i?void 0:i.hasIcon)&&(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(t=r.displayProperties)||void 0===t?void 0:t.icon)})):(null===u||void 0===u||null===(t=u[0])||void 0===t||null===(a=t.data)||void 0===a||null===(o=a.displayProperties)||void 0===o?void 0:o.hasIcon)&&(null===u||void 0===u||null===(s=u[0])||void 0===s||null===(l=s.data)||void 0===l||null===(d=l.displayProperties)||void 0===d?void 0:d.icon),data:u,isLoading:u.map((function(e){return e.isLoading})),someIsLoading:u.some((function(e){return e.isLoading}))}}(null===o||void 0===o?void 0:o.defaultDamageTypeHash),c=d.weaponElement,u=d.someIsLoading;if(l||u)return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"destiny-weapon",children:[(0,w.jsx)(T.Z,{size:"inline"})," ",t&&(0,w.jsx)("span",{children:t})]})});if(s)return console.error(s),null;t||(t=null===o||void 0===o||null===(n=o.displayProperties)||void 0===n?void 0:n.name);var p=H(o),m=null===o||void 0===o||null===(i=o.inventory)||void 0===i?void 0:i.tierTypeName,v=V(o);return(0,w.jsx)(I.Z,{triggerContent:(0,w.jsxs)("div",{className:"destiny-weapon a-link",children:[(0,w.jsx)(B.Z,{icon:["weapons",p],color:c})," ",(0,w.jsx)("span",{children:t})]}),tooltip:{contents:"".concat(m," ").concat(c," ").concat(p),backgroundColor:W(m)},children:(0,w.jsxs)("article",{className:"weapon-modal "+(null===m||void 0===m?void 0:m.toLowerCase()),children:[(0,w.jsx)("div",{className:"weapon-screenshot",style:{backgroundImage:"url(".concat(v,")")},children:(0,w.jsx)(z,{id:r})}),(0,w.jsxs)("div",{className:"weapon-header",children:[(0,w.jsx)(C.Z,{src:o.displayProperties.icon,className:"weapon-icon"}),(0,w.jsxs)("div",{className:"weapon-header-text",children:[(0,w.jsx)("h3",{children:t}),(0,w.jsxs)("p",{children:[m," |"," ",(0,w.jsx)(B.Z,{icon:["elements",c],color:c})," ",c," | ",(0,w.jsx)(B.Z,{icon:["weapons",p]})," ",p]})]})]})]})})}var G=[(0,w.jsx)(K,{id:"2782847179",name:"Blasphemer"}),(0,w.jsx)(K,{id:"2164448701",name:"Apostate"}),(0,w.jsx)(K,{id:"3067821200",name:"Heretic"})];function X(){return(0,w.jsx)(L,{title:"Altars of Sorrow Weapon",items:G,start:16488324e5,period:a.v0,icon:"https://www.bungie.net/common/destiny2_content/icons/58bf5b93ae8cfefc55852fe664179757.png"})}var $=i(8811),Y=i(1694),J=i.n(Y),ee=(0,o.forwardRef)((function(e,n){var i=e.id,r=e.dataArray,t=e.name,a=i?[].concat(i):[],s=(0,F.useQueries)(a.map((function(e){return{queryKey:["DestinyActivityDefinition",e],enabled:!!e}})));if(i){if(!s.every((function(e){return e.isSuccess})))return s.some((function(e){return e.isLoading}))?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("article",{ref:n,className:"activity",children:(0,w.jsx)(T.Z,{size:"page",fadeIn:"none"})})}):(s.filter((function(e){return e.error})).map((function(e){return console.error(e.error)})),null);s=s.filter((function(e){return e.isSuccess})).map((function(e){return e.data}))}else s=r.map((function(e){return e.data}));return s.sort((function(e,n){return(null===e||void 0===e?void 0:e.activityLightLevel)-(null===n||void 0===n?void 0:n.activityLightLevel)})),(0,w.jsxs)("article",{ref:n,className:J()("activity","success"),children:[(0,w.jsx)(me,{data:s[0],name:t}),s.map((function(e,n){return(0,w.jsxs)(o.Fragment,{children:[(0,w.jsx)(de,{data:e}),(0,w.jsx)(ye,{data:e})]},n)}))]})}));ee.defaultProps={};var ne=i(907);var ie=i(181);function re(e){return function(e){if(Array.isArray(e))return(0,ne.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,ie.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=i(1982),ae=[{class:"Overload",pattern:/Disruption|Overload/i},{class:"Unstoppable",pattern:/Stagger|Unstoppable/i},{class:"Barrier",pattern:/Shield-Piercing|Barrier/i}],oe=(0,o.forwardRef)((function(e,n){var i=e.champions,r=e.known_champions;if(!i||i.length<1)return null;var t=new Set;return i.map((function(e){return ae.map((function(n){var i;return n.pattern.test(null===e||void 0===e||null===(i=e.displayProperties)||void 0===i?void 0:i.description)&&t.add(n.class)}))})),(0,w.jsxs)("section",{ref:n,className:"activity-champions",children:[(0,w.jsx)("h5",{className:"heading",children:"Champions"}),(0,w.jsx)("div",{className:"champions",children:re(t).map((function(e,n){return(0,w.jsx)(te.Z,{contents:"".concat(e," Champions"),children:(0,w.jsxs)("div",{className:"champion "+e,children:[(0,w.jsx)(B.Z,{icon:["champions","modifiers",e],style:{filter:"brightness(".concat(r[e]&&"75%",")")}}),r[e]>0&&(0,w.jsx)("span",{className:"champion-amount",children:r[e]})]},n)},n)}))})]})}));oe.defaultProps={champions:[],known_champions:{}};var se=(0,o.forwardRef)((function(e,n){var i,r=e.id,t=(0,F.useQuery)(["DestinyDestinationDefinition",r]),a=t.data,o=t.error;return t.isLoading?(0,w.jsxs)("p",{ref:n,className:"destination",children:[(0,w.jsx)(B.Z,{icon:["activities","Destination"]}),(0,w.jsx)(T.Z,{size:"inline"})]}):o?(console.error(o),null):(0,w.jsxs)("p",{ref:n,className:"destination",children:[(0,w.jsx)(B.Z,{icon:["activities","Destination"]}),null===a||void 0===a||null===(i=a.displayProperties)||void 0===i?void 0:i.name]})}));se.defaultProps={};var le=["className","data"],de=(0,o.forwardRef)((function(e,n){var i,r=e.className,t=e.data,a=(0,v.Z)(e,le),o=null===t||void 0===t||null===(i=t.selectionScreenDisplayProperties)||void 0===i?void 0:i.name;return(0,w.jsx)("h2",(0,m.Z)((0,m.Z)({ref:n,className:J()("activity-difficulty",null===o||void 0===o?void 0:o.toLowerCase(),r)},a),{},{children:o}))}));de.defaultProps={};var ce={"Scored Nightfall Strikes":"Nightfall"},ue=function(e){return ce[e]||e},pe=function(e){var n=function(e){var n,i,r,t,a,o,s,l,d,c,u,p,m=Array.isArray(e);e=m?e:[e];var v=(0,F.useQueries)(e.map((function(e){return{queryKey:["DestinyActivityModeDefinition",e],enabled:!!e}})));return{activityMode:m?v.map((function(e){var n,i;return ue(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.displayProperties)||void 0===i?void 0:i.name)})):ue(null===v||void 0===v||null===(n=v[0])||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.displayProperties)||void 0===r?void 0:r.name),activityModeIcon:m?v.map((function(e){var n,i,r,t;return(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.displayProperties)||void 0===i?void 0:i.hasIcon)&&(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(t=r.displayProperties)||void 0===t?void 0:t.icon)})):(null===v||void 0===v||null===(t=v[0])||void 0===t||null===(a=t.data)||void 0===a||null===(o=a.displayProperties)||void 0===o?void 0:o.hasIcon)&&(null===v||void 0===v||null===(s=v[0])||void 0===s||null===(l=s.data)||void 0===l||null===(d=l.displayProperties)||void 0===d?void 0:d.icon),activityModeDescription:m?v.map((function(e){var n,i;return null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.displayProperties)||void 0===i?void 0:i.description})):null===v||void 0===v||null===(c=v[0])||void 0===c||null===(u=c.data)||void 0===u||null===(p=u.displayProperties)||void 0===p?void 0:p.description,data:v,isLoading:v.map((function(e){return e.isLoading})),someIsLoading:v.some((function(e){return e.isLoading}))}}(e.hash),i=n.activityMode,r=n.activityModeIcon,t=n.someIsLoading;return(0,w.jsxs)("h5",{className:"activity-type",children:[(0,w.jsx)(C.Z,{src:r}),t?(0,w.jsx)(T.Z,{size:"inline"}):i]})},me=(0,o.forwardRef)((function(e,n){var i=e.data,r=e.name;r||(r=i.originalDisplayProperties.name),"Nightfall"===i.originalDisplayProperties.name&&(r=i.originalDisplayProperties.description);var t=V(i);return(0,w.jsxs)("section",{ref:n,className:"activity-header",style:{backgroundImage:"url(".concat(t,")")},children:[(0,w.jsx)(pe,{hash:null===i||void 0===i?void 0:i.directActivityModeHash}),(0,w.jsx)("h1",{className:"activity-name",children:r}),(0,w.jsx)(se,{id:i.destinationHash})]})}));me.defaultProps={};var ve=(0,o.forwardRef)((function(e,n){var i,r,t,a,o=e.data,s=null===o||void 0===o||null===(i=o.displayProperties)||void 0===i?void 0:i.name,l=null===o||void 0===o||null===(r=o.displayProperties)||void 0===r?void 0:r.icon,d=null!==o&&void 0!==o&&null!==(t=o.displayProperties)&&void 0!==t&&t.description?(0,w.jsx)("p",{children:null===o||void 0===o||null===(a=o.displayProperties)||void 0===a?void 0:a.description.replace(/(?:[\s.,]*\n+[\s.,]*)+/g,"; ").replace(/(\[Disruption|Stagger\])/g,"|$1|").split("|")}):null;if(!l||!s)return null;var c=[{class:"arc",pattern:/arc/i},{class:"solar",pattern:/solar/i},{class:"void",pattern:/void/i},{class:"stasis",pattern:/stasis/i}];return(0,w.jsxs)("section",{ref:n,className:"activity-modifier",children:[(0,w.jsx)(C.Z,{className:J()("icon",c.filter((function(e){return e.pattern.test(s)})).map((function(e){return e.class}))),src:l,title:s}),(0,w.jsxs)("div",{className:"description",children:[(0,w.jsx)("h6",{className:J()("heading",c.filter((function(e){return e.pattern.test(s)})).map((function(e){return e.class}))),children:s}),d]})]})}));ve.defaultProps={};var he={0:{known_shields:{Void:0,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:0,Unstoppable:0}},480864726:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:3,Overload:0,Unstoppable:1}},480864721:{known_shields:{Void:0,Solar:0,Arc:1},known_champions:{Barrier:5,Overload:0,Unstoppable:2}},145221019:{known_shields:{Void:5,Solar:0,Arc:7},known_champions:{Barrier:0,Overload:1,Unstoppable:2}},145221020:{known_shields:{Void:5,Solar:0,Arc:4},known_champions:{Barrier:0,Overload:4,Unstoppable:2}},3094493720:{known_shields:{Void:0,Solar:2,Arc:4},known_champions:{Barrier:3,Overload:0,Unstoppable:1}},3094493727:{known_shields:{Void:0,Solar:2,Arc:2},known_champions:{Barrier:3,Overload:0,Unstoppable:4}},2936791996:{known_shields:{Void:4,Solar:0,Arc:0},known_champions:{Barrier:2,Overload:2,Unstoppable:0}},2936791995:{known_shields:{Void:3,Solar:0,Arc:0},known_champions:{Barrier:5,Overload:4,Unstoppable:0}},1898610132:{known_shields:{Void:9,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:2,Unstoppable:2}},1898610131:{known_shields:{Void:10,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:4,Unstoppable:3}},660710127:{known_shields:{Void:1,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:2,Unstoppable:3}},660710120:{known_shields:{Void:1,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:3,Unstoppable:4}},4206916275:{known_shields:{Void:17,Solar:2,Arc:0},known_champions:{Barrier:0,Overload:1,Unstoppable:3}},4206916276:{known_shields:{Void:29,Solar:2,Arc:1},known_champions:{Barrier:0,Overload:3,Unstoppable:5}},3911969233:{known_shields:{Void:0,Solar:0,Arc:4},known_champions:{Barrier:4,Overload:0,Unstoppable:3}},3911969238:{known_shields:{Void:0,Solar:0,Arc:1},known_champions:{Barrier:7,Overload:0,Unstoppable:3}},184186581:{known_shields:{Void:0,Solar:10,Arc:0},known_champions:{Barrier:3,Overload:2,Unstoppable:0}},184186578:{known_shields:{Void:0,Solar:10,Arc:0},known_champions:{Barrier:4,Overload:6,Unstoppable:0}},567131512:{known_shields:{Void:0,Solar:8,Arc:3},known_champions:{Barrier:3,Overload:2,Unstoppable:0}},567131519:{known_shields:{Void:0,Solar:8,Arc:3},known_champions:{Barrier:4,Overload:6,Unstoppable:0}},3678847129:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:0,Overload:3,Unstoppable:2}},3678847134:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:0,Overload:3,Unstoppable:4}}};var fe=function(e){return he[e]||{known_shields:void 0,known_champions:void 0}},ye=(0,o.forwardRef)((function(e,n){var i=e.data,r=(0,F.useQueries)(i.modifiers.map((function(e){return{queryKey:["DestinyActivityModifierDefinition",e.activityModifierHash]}})));if(!r.every((function(e){return e.isSuccess})))return r.some((function(e){return e.isLoading}))?(0,w.jsx)("section",{ref:n,className:"activity-modifiers",children:(0,w.jsx)(T.Z,{size:"section"})}):(r.filter((function(e){return e.error})).map((function(e){return console.error(e.error)})),null);var t=fe(null===i||void 0===i?void 0:i.hash),a=t.known_shields,o=t.known_champions,s=r.filter((function(e){return e.isSuccess&&e.data})).map((function(e){return e.data})),l=s.filter((function(e){return/shielded foes/i.test(e.displayProperties.name)})),d=s.filter((function(e){return/champion foes/i.test(e.displayProperties.name)})),c=s.filter((function(e){return!/(shielded|champion) foes|champions: mob| modifiers$/i.test(e.displayProperties.name)}));return(0,w.jsxs)("section",{ref:n,className:"activity-modifiers",children:[l.length>0&&(0,w.jsx)(ge,{shields:l,known_shields:a}),d.length>0&&(0,w.jsx)(oe,{champions:d,known_champions:o}),c.length>0&&(0,w.jsxs)("section",{className:"other-modifiers",children:[(0,w.jsx)("h5",{className:"heading",children:"Modifiers"}),(0,w.jsx)("div",{className:"modifiers",children:c.map((function(e,n){return(0,w.jsx)(ve,{data:e},n)}))})]})]})}));ye.defaultProps={};var xe=[{name:"Arc",pattern:/arc/i},{name:"Solar",pattern:/solar/i},{name:"Void",pattern:/void/i},{name:"Stasis",pattern:/stasis/i}],ge=(0,o.forwardRef)((function(e,n){var i=e.shields,r=e.known_shields;if(!i||i.length<1)return null;var t=new Set;return i.map((function(e){return xe.map((function(n){var i;return n.pattern.test(null===e||void 0===e||null===(i=e.displayProperties)||void 0===i?void 0:i.description)&&t.add(n.name)}))})),(0,w.jsxs)("section",{ref:n,className:"activity-shields",children:[(0,w.jsx)("h5",{className:"heading",children:"Shields"}),(0,w.jsx)("div",{className:"shields",children:re(t).map((function(e,n){return(0,w.jsx)(te.Z,{contents:"".concat(e," Shields"),children:(0,w.jsxs)("div",{className:"shield",children:[(0,w.jsx)(B.Z,{icon:["elements",e],color:e}),r[e]>0&&(0,w.jsx)("span",{className:"shield-amount",children:r[e]})]},n)},n)}))})]})}));ge.defaultProps={shields:[],known_shields:{}};var we=ee;function je(){var e,n,i=(0,F.useQuery)("Milestones"),r=(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(n=e[1942283261])||void 0===n?void 0:n.activities)||[],t=(0,F.useQueries)(r.map((function(e){return{queryKey:["DestinyActivityDefinition",e.activityHash],enabled:!(null===e||void 0===e||!e.activityHash)}})));return i.isSuccess&&t.every((function(e){return e.isSuccess}))?(0,w.jsx)(L,{title:"Nightfall",start:16534116e5,period:a.g0,items:[(0,w.jsx)(I.Z,{triggerContent:t[0].data.displayProperties.description,children:(0,w.jsx)(we,{dataArray:t})})],icon:"https://www.bungie.net/common/destiny2_content/icons/48dda413d9f412ca2b10fd56a35a2665.png",children:t[0].data.displayProperties.description}):null}function ke(){return(0,w.jsx)(A,{title:"Solstice",description:"Visit Eva Levante in the Tower.",start:165825e7,end:16600644e5,icon:"https://www.bungie.net/common/destiny2_content/icons/2312abef9f52a56f96d4f5c6915d8981.png"})}var be=["EDZ","Cosmodrome","Moon"].map((function(e){return(0,w.jsx)("div",{children:e})}));function Se(){return(0,w.jsx)(L,{title:"PsiOps Battleground: Legend",items:be,start:16521156e5,period:a.v0,icon:"https://www.bungie.net/common/destiny2_content/icons/b5ca23093632aa939e8209a2ee558106.png"})}var _e=i(9921),Ne=[{title:"Daily Reset",start:_e.OW,period:a.v0,icon:"https://cdn.jsdelivr.net/gh/game-icons/icons@c10320edc7ae3f28a29d172e0dd3f029411825d7/delapouite/clockwise-rotation.svg"},{title:"Weekly Reset",start:_e.eM,period:a.g0,icon:"https://cdn.jsdelivr.net/gh/game-icons/icons@c10320edc7ae3f28a29d172e0dd3f029411825d7/delapouite/clockwise-rotation.svg",link:"https://kyber3000.com/reset"},{title:"Weekend Activities",start:_e.Wp,end:_e.VT,period:a.g0,icon:"https://cdn.jsdelivr.net/gh/game-icons/icons@c10320edc7ae3f28a29d172e0dd3f029411825d7/delapouite/clockwise-rotation.svg",description:(0,w.jsxs)("ul",{children:[(0,w.jsx)("li",{children:(0,w.jsx)(M.Z,{href:"https://kyber3000.com/Xur",children:"Xur"})}),(0,w.jsx)("li",{children:(0,w.jsx)(M.Z,{href:"https://kyber3000.com/Trials",children:"Trials of Osiris"})})]})}];function Pe(){return Ne.map((function(e,n){return(0,w.jsx)(A,(0,m.Z)({},e),n)}))}function Ze(){var e,n,i=(0,F.useQuery)("Settings"),r=null===i||void 0===i||null===(e=i.data)||void 0===e||null===(n=e.destiny2CoreSettings)||void 0===n?void 0:n.currentSeasonHash,t=(0,F.useQuery)(["DestinySeasonDefinition",r],{enabled:!!r}),a=t.isLoading,o=t.error,s=t.data;return i.isLoading||a?null:i.error||o?(console.error(i.error),null):(0,w.jsx)(A,{title:"Season ".concat(s.seasonNumber,": ").concat(s.displayProperties.name),description:s.displayProperties.description,start:s.startDate,end:s.endDate,icon:"".concat("https://bungie.net").concat(s.displayProperties.icon)})}var De=[(0,w.jsx)(K,{id:"2721157927",name:"Tarnation"}),(0,w.jsx)(K,{id:"1399109800",name:"Fel Taradiddle"}),(0,w.jsx)(K,{id:"3865728990",name:"Father's Sins"}),(0,w.jsx)(K,{id:"927567426",name:"Come to Pass"})];function Ae(){return(0,w.jsx)(L,{title:"Wellspring Weapon",items:De,start:1648746e6,period:a.v0,icon:"https://www.bungie.net/common/destiny2_content/icons/DestinyMilestoneDefinition_feb5aecca544ab023ecf3b74ac8f509b.png"})}var Oe=[{name:"Destiny Server and Update Status",link:"https://help.bungie.net/hc/en-us/articles/360049199271-Destiny-Server-and-Update-Status"},{name:"Bungie Maintenance Notifications",link:"https://twitter.com/BungieHelp"},{name:"Patch Notes",link:"https://www.bungie.net/en/Explore/Category?category=Updates"}];function Ue(){var e=o.useState(Date.now()),n=(0,t.Z)(e,2),i=n[0],r=n[1];return o.useEffect((function(){var e=setTimeout((function(){r((function(){return Date.now()}))}),a.xO-i%a.xO);return function(){return clearTimeout(e)}}),[i]),(0,w.jsxs)("div",{className:"timers-wrapper",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{children:"Timers"}),(0,w.jsx)("p",{children:"Some Timers have been temporarily disabled because of the launch of the new season. Work to bring them back is underway."})]}),(0,w.jsxs)("div",{className:"timers",children:[(0,w.jsx)(ke,{}),(0,w.jsx)(je,{}),(0,w.jsx)(Ae,{}),(0,w.jsx)(X,{}),(0,w.jsx)(Ze,{}),(0,w.jsx)(Se,{}),(0,w.jsx)(Pe,{})]}),(0,w.jsx)("div",{className:"links",children:Oe.map((function(e){return(0,w.jsx)($.Z,{href:e.link,children:e.name},e.name)}))})]})}}}]);
//# sourceMappingURL=635.3599c99f.chunk.js.map