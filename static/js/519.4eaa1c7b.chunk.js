"use strict";(self.webpackChunkd2_buddy=self.webpackChunkd2_buddy||[]).push([[519],{7389:function(n,e,i){i.r(e),i.d(e,{default:function(){return Wn}});var t,r=i(885),o=i(171),a=i(2791),s=i(9412),l=i(168),c=i(6031),d=(0,c.iv)(t||(t=(0,l.Z)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-start;\n  align-items: safe center;\n  text-align: center;\n  margin: auto;\n"]))),u=c.ZP.section.withConfig({displayName:"CycleCardModalStyle__CurrentItem",componentId:"sc-8dv19i-0"})([""," margin-top:",";"],d,(function(n){return n.theme.lengths.pad})),p=c.ZP.section.withConfig({displayName:"CycleCardModalStyle__UpcomingItems",componentId:"sc-8dv19i-1"})([""," gap:",";& > h3{margin:auto;margin-top:",";order:-1;}"],d,(function(n){return n.theme.lengths.gap}),(function(n){return n.theme.lengths.gap})),m=i(1413),v=i(5987),h=i(6107);function f(n){return n.charAt(0).toUpperCase()+n.slice(1)}function y(n){if(Math.abs(n)<.75*o.E0)return"now";var e=function(n){var e=Math.abs(n);if(e<1*o.Z7)return"less than 1 minute";if(e<1.5*o.Z7)return"1 minute";if(e<=57.5*o.Z7)return"".concat(Math.round(e/o.Z7)," minutes");if(e<22*o.xO)return"".concat(e%o.xO/o.xO<.875?Math.floor(e/o.xO):Math.ceil(e/o.xO)).concat(e%o.xO/o.xO<.125||e%o.xO/o.xO>=.875?"":e%o.xO/o.xO<.375?"\xbc":e%o.xO/o.xO<.625?"\xbd":"\xbe"," hour").concat(e<1.875*o.xO?"":"s");if(e<1.5*o.v0)return"1 day";if(e<26*o.v0)return"".concat(Math.round(e/o.v0)," days");if(e<46*o.v0)return"1 month";if(e<11*o.iL)return"".concat(Math.round(e/o.iL)," months");if(e<18*o.iL)return"1 year";return"".concat(Math.round(e/o.ty)," years")}(n);return n<0?"".concat(e," ago"):"in ".concat(e)}function x(n){return n&&n<=Date.now()}var g=i(6175),w=i(184),j=(0,a.forwardRef)((function(n,e){var i=n.timestamp,t=n.hasTime,s=n.prefix,l=n.conditions,c=n.className,d=(0,a.useState)(Date.now()),u=(0,r.Z)(d,2),p=u[0],m=u[1],v=(0,a.useState)(y(i-p)),j=(0,r.Z)(v,2),k=j[0],b=j[1];(0,a.useEffect)((function(){var n=setTimeout((function(){m((function(){return Date.now()})),b((function(){return y(i-p)}))}),(0,g.R)(30*o.E0,0)-Date.now());return function(){return clearTimeout(n)}}),[p,i]),l=Array.isArray(l)?l:[l];var S,_;return i&&l.every((function(n){return!0===n||("past"===n?x(i):"future"===n?!x(i):"past"===(null===n||void 0===n?void 0:n.when)?x(n.timestamp):"future"===(null===n||void 0===n?void 0:n.when)?!x(n.timestamp):void 0)}))?(S=Math.abs(i-p)<o.v0?"at "+(0,h.m)(i,t):"on "+(0,h.p)(i,t),(0,w.jsx)("p",{ref:e,className:c,children:(_="".concat(s?"".concat(Array.isArray(s)?x(i)?s[1]:s[0]:s," "):"").concat(k?"".concat(k,", "):"").concat(S),_.split(". ").map(f).join(". "))})):null}));j.defaultProps={hasTime:!0,conditions:[!0]};var k=c.ZP.p.withConfig({displayName:"TimerCardDescriptionStyle__StyledDescription",componentId:"sc-an8yzt-0"})(["margin-top:",";"],(function(n){return n.theme.lengths.gap})),b=function(n){return n===o.xO?"Hourly":n===o.v0?"Daily":n===o.g0?"Weekly":n===o.iL?"Monrthly":n===o.ty?"Yearly":null},S=function(n){var e=n.start,i=n.end,t=n.period,r=n.description;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(j,{prefix:e&&i&&["Starts","Started"],timestamp:e}),(0,w.jsx)(j,{prefix:e&&i&&["Ends","Ended"],timestamp:i}),b(t)&&(0,w.jsxs)("p",{children:["Period: ",b(t)]}),r&&(0,w.jsx)(k,{children:r})]})},_=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=15046488e5;return(n-i+e)/o.Z7};function D(n){return!!n&&new Date(n).getTime()}var N=["description","start","end","period","hasTime"],P=function(n,e,i){for(var t=(0,g.R)(i,D(n));i&&e&&t>=e;)t-=i;return t},Z=(0,a.forwardRef)((function(n,e){var i=n.description,t=n.start,l=n.end,c=n.period,d=(n.hasTime,(0,v.Z)(n,N)),u=(0,a.useState)((0,g.R)(c,D(l))),p=(0,r.Z)(u,2),h=p[0],f=p[1],y=(0,a.useState)(P(t,h,c)),k=(0,r.Z)(y,2),b=k[0],Z=k[1];return(0,a.useEffect)((function(){var n=Math.max(b&&h?Math.min(b,h):b||h,(0,g.R)(o.Z7,0))-Date.now(),e=setTimeout((function(){f((0,g.R)(c,D(h))),Z(P(b,h,c))}),n);return function(){return clearTimeout(e)}}),[b,h,c]),x(h)||!h&&x(b+o.v0)||!c&&(x(h)||!h&&x(b+o.v0))?null:(0,w.jsxs)(s.Z,(0,m.Z)((0,m.Z)({ref:e,modalContent:(0,w.jsx)(S,{start:b,end:h,period:c,description:i}),style:{order:_(b,c?0:-10*o.ty)},highlight:x(b)},d),{},{children:[(0,w.jsx)(j,{prefix:b&&h&&"Starts",timestamp:b,conditions:"future"}),(0,w.jsx)(j,{prefix:b&&h&&"Ends",timestamp:h,conditions:["future",{timestamp:b,when:"past"}]})]}))}));Z.defaultProps={hasTime:!0};var A=Z,O=function(n){var e=n.items,i=n.nextCycle,t=n.currentItem,r=n.period;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{children:["Period: ",b(r)]}),(0,w.jsxs)(u,{children:[e[t],(0,w.jsx)(j,{prefix:"Cycles",timestamp:i})]}),e.length>1&&(0,w.jsxs)(p,{children:[(0,w.jsx)("h3",{children:"Upcoming"}),e.map((function(n,o){var a=(o-t+e.length-1)%e.length;return(0,w.jsxs)("section",{style:{order:a},children:[n,(0,w.jsx)(j,{timestamp:i+a*r})]},o)}))]})]})},M=(0,a.forwardRef)((function(n,e){var i=n.title,t=n.items,l=n.start,c=n.period,d=n.icon,u=(0,a.useState)((0,g.R)(c,D(l))),p=(0,r.Z)(u,2),m=p[0],v=p[1],h=(0,a.useState)(Math.floor((Date.now()-l)/c)%t.length),f=(0,r.Z)(h,2),y=f[0],x=f[1];return(0,a.useEffect)((function(){var n=setTimeout((function(){v((0,g.R)(c,D(l))),x(Math.floor((Date.now()-l)/c)%t.length)}),m-Date.now());return function(){clearTimeout(n)}}),[l,c,m,t.length]),(0,w.jsxs)(s.Z,{ref:e,className:"cycle-card",title:i,style:{order:_(m,-5*o.ty)},modalContent:(0,w.jsx)(O,{items:t,nextCycle:m,currentItem:y,period:c}),icon:d,children:[t[y],(0,w.jsx)(j,{prefix:"Cycles",timestamp:m})]})}));M.defaultProps={period:o.v0};var L=M,C=i(3364),T=i(8521),I=i(9773),U=i(6938),B=i(4664);function V(n){var e=(null===n||void 0===n?void 0:n.screenshot)||(null===n||void 0===n?void 0:n.pgcrImage);return e?"https://bungie.net"+e:null}var E=i(4942),R=["None","Primary","Special","Heavy","Unknown"].reduce((function(n,e,i){var t;return Object.assign(n,(t={},(0,E.Z)(t,i,e),(0,E.Z)(t,e,i),t))}),{});var H=function(n){var e,i=null===n||void 0===n?void 0:n.itemTypeDisplayName;return"Grenade Launcher"===i&&(null===n||void 0===n||null===(e=n.equippingBlock)||void 0===e?void 0:e.ammoType)===R["Heavy"]&&(i="Heavy "+i),i},Q={Legendary:"#4e3263",Exotic:"#cdad34"};var W=function(n){return Q[n]||"#04040e"},K=i(1933),F=[{name:"DestinyTracker",url:"https://destinytracker.com/destiny-2/db/items/",icon:"https://cod.tracker.gg/public/icons/icon192.png"},{name:"Gunsmith",url:"https://d2gunsmith.com/w/",icon:"https://d2gunsmith.com/favicon.ico"},{name:"Light.gg",url:"https://www.light.gg/db/en/items/",icon:"https://www.light.gg/Content/Images/new-icon.png"}];function q(n){var e=n.id;return(0,w.jsx)("ul",{className:"weapon-links",children:F.map((function(n){return(0,w.jsx)("li",{children:(0,w.jsxs)(C.Z,{className:"site-link",href:n.url+e,children:[n.icon&&(0,w.jsx)(I.Z,{src:n.icon,className:"site-icon"}),n.name]})},n.name)}))})}function z(n){var e,i,t=n.id,r=n.name,o=(0,K.useQuery)(["DestinyInventoryItemDefinition",t]),a=o.data,s=o.error,l=o.isLoading,c=function(n){var e,i,t,r,o,a,s,l,c,d=Array.isArray(n);n=d?n:[n];var u=(0,K.useQueries)(n.map((function(n){return{queryKey:["DestinyDamageTypeDefinition",n],enabled:!!n}})));return{weaponElement:d?u.map((function(n){var e,i;return null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.displayProperties)||void 0===i?void 0:i.name})):null===u||void 0===u||null===(e=u[0])||void 0===e||null===(i=e.data)||void 0===i||null===(t=i.displayProperties)||void 0===t?void 0:t.name,weaponElementIcon:d?u.map((function(n){var e,i,t,r;return(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.displayProperties)||void 0===i?void 0:i.hasIcon)&&(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.displayProperties)||void 0===r?void 0:r.icon)})):(null===u||void 0===u||null===(r=u[0])||void 0===r||null===(o=r.data)||void 0===o||null===(a=o.displayProperties)||void 0===a?void 0:a.hasIcon)&&(null===u||void 0===u||null===(s=u[0])||void 0===s||null===(l=s.data)||void 0===l||null===(c=l.displayProperties)||void 0===c?void 0:c.icon),data:u,isLoading:u.map((function(n){return n.isLoading})),someIsLoading:u.some((function(n){return n.isLoading}))}}(null===a||void 0===a?void 0:a.defaultDamageTypeHash),d=c.weaponElement,u=c.someIsLoading;if(l||u)return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"destiny-weapon",children:[(0,w.jsx)(U.Z,{size:"inline"})," ",r&&(0,w.jsx)("span",{children:r})]})});if(s)return console.error(s),null;r||(r=null===a||void 0===a||null===(e=a.displayProperties)||void 0===e?void 0:e.name);var p=H(a),m=null===a||void 0===a||null===(i=a.inventory)||void 0===i?void 0:i.tierTypeName,v=V(a);return(0,w.jsx)(B.Z,{triggerContent:(0,w.jsxs)("div",{className:"destiny-weapon a-link",children:[(0,w.jsx)(T.Z,{icon:["weapons",p],color:d})," ",(0,w.jsx)("span",{children:r})]}),tooltip:{contents:"".concat(m," ").concat(d," ").concat(p),backgroundColor:W(m)},children:(0,w.jsxs)("article",{className:"weapon-modal "+(null===m||void 0===m?void 0:m.toLowerCase()),children:[(0,w.jsx)("div",{className:"weapon-screenshot",style:{backgroundImage:"url(".concat(v,")")},children:(0,w.jsx)(q,{id:t})}),(0,w.jsxs)("div",{className:"weapon-header",children:[(0,w.jsx)(I.Z,{src:a.displayProperties.icon,className:"weapon-icon"}),(0,w.jsxs)("div",{className:"weapon-header-text",children:[(0,w.jsx)("h3",{children:r}),(0,w.jsxs)("p",{children:[m," |"," ",(0,w.jsx)(T.Z,{icon:["elements",d],color:d})," ",d," | ",(0,w.jsx)(T.Z,{icon:["weapons",p]})," ",p]})]})]})]})})}var G=[(0,w.jsx)(z,{id:"2782847179",name:"Blasphemer"}),(0,w.jsx)(z,{id:"2164448701",name:"Apostate"}),(0,w.jsx)(z,{id:"3067821200",name:"Heretic"})];function X(){return(0,w.jsx)(L,{title:"Altars of Sorrow Weapon",items:G,start:16488324e5,period:o.v0,icon:"https://www.bungie.net/common/destiny2_content/icons/58bf5b93ae8cfefc55852fe664179757.png"})}var $=i(8811),Y=i(1694),J=i.n(Y),nn=(0,a.forwardRef)((function(n,e){var i=n.id,t=n.dataArray,r=n.name,o=i?[].concat(i):[],s=(0,K.useQueries)(o.map((function(n){return{queryKey:["DestinyActivityDefinition",n],enabled:!!n}})));if(i){if(!s.every((function(n){return n.isSuccess})))return s.some((function(n){return n.isLoading}))?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("article",{ref:e,className:"activity",children:(0,w.jsx)(U.Z,{size:"page",fadeIn:"none"})})}):(s.filter((function(n){return n.error})).map((function(n){return console.error(n.error)})),null);s=s.filter((function(n){return n.isSuccess})).map((function(n){return n.data}))}else s=t.map((function(n){return n.data}));return s.sort((function(n,e){return(null===n||void 0===n?void 0:n.activityLightLevel)-(null===e||void 0===e?void 0:e.activityLightLevel)})),(0,w.jsxs)("article",{ref:e,className:J()("activity","success"),children:[(0,w.jsx)(hn,{data:s[0],name:r}),s.map((function(n,e){return(0,w.jsxs)(a.Fragment,{children:[(0,w.jsx)(dn,{data:n}),(0,w.jsx)(gn,{data:n})]},e)}))]})}));nn.defaultProps={};var en=i(907);var tn=i(181);function rn(n){return function(n){if(Array.isArray(n))return(0,en.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,tn.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var on=i(1982),an=[{class:"Overload",pattern:/Disruption|Overload/i},{class:"Unstoppable",pattern:/Stagger|Unstoppable/i},{class:"Barrier",pattern:/Shield-Piercing|Barrier/i}],sn=(0,a.forwardRef)((function(n,e){var i=n.champions,t=n.known_champions;if(!i||i.length<1)return null;var r=new Set;return i.map((function(n){return an.map((function(e){var i;return e.pattern.test(null===n||void 0===n||null===(i=n.displayProperties)||void 0===i?void 0:i.description)&&r.add(e.class)}))})),(0,w.jsxs)("section",{ref:e,className:"activity-champions",children:[(0,w.jsx)("h5",{className:"heading",children:"Champions"}),(0,w.jsx)("div",{className:"champions",children:rn(r).map((function(n,e){return(0,w.jsx)(on.Z,{contents:"".concat(n," Champions"),children:(0,w.jsxs)("div",{className:"champion "+n,children:[(0,w.jsx)(T.Z,{icon:["champions","modifiers",n],style:{filter:"brightness(".concat(t[n]&&"75%",")")}}),t[n]>0&&(0,w.jsx)("span",{className:"champion-amount",children:t[n]})]},e)},e)}))})]})}));sn.defaultProps={champions:[],known_champions:{}};var ln=(0,a.forwardRef)((function(n,e){var i,t=n.id,r=(0,K.useQuery)(["DestinyDestinationDefinition",t]),o=r.data,a=r.error;return r.isLoading?(0,w.jsxs)("p",{ref:e,className:"destination",children:[(0,w.jsx)(T.Z,{icon:["activities","Destination"]}),(0,w.jsx)(U.Z,{size:"inline"})]}):a?(console.error(a),null):(0,w.jsxs)("p",{ref:e,className:"destination",children:[(0,w.jsx)(T.Z,{icon:["activities","Destination"]}),null===o||void 0===o||null===(i=o.displayProperties)||void 0===i?void 0:i.name]})}));ln.defaultProps={};var cn=["className","data"],dn=(0,a.forwardRef)((function(n,e){var i,t=n.className,r=n.data,o=(0,v.Z)(n,cn),a=null===r||void 0===r||null===(i=r.selectionScreenDisplayProperties)||void 0===i?void 0:i.name;return(0,w.jsx)("h2",(0,m.Z)((0,m.Z)({ref:e,className:J()("activity-difficulty",null===a||void 0===a?void 0:a.toLowerCase(),t)},o),{},{children:a}))}));dn.defaultProps={};var un={"Scored Nightfall Strikes":"Nightfall"},pn=function(n){return un[n]||n},mn=function(n){var e,i,t,r,o,a,s,l,c,d,u,p,m=Array.isArray(n);n=m?n:[n];var v=(0,K.useQueries)(n.map((function(n){return{queryKey:["DestinyActivityModeDefinition",n],enabled:!!n}})));return{activityMode:m?v.map((function(n){var e,i;return pn(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.displayProperties)||void 0===i?void 0:i.name)})):pn(null===v||void 0===v||null===(e=v[0])||void 0===e||null===(i=e.data)||void 0===i||null===(t=i.displayProperties)||void 0===t?void 0:t.name),activityModeIcon:m?v.map((function(n){var e,i,t,r;return(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.displayProperties)||void 0===i?void 0:i.hasIcon)&&(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.displayProperties)||void 0===r?void 0:r.icon)})):(null===v||void 0===v||null===(r=v[0])||void 0===r||null===(o=r.data)||void 0===o||null===(a=o.displayProperties)||void 0===a?void 0:a.hasIcon)&&(null===v||void 0===v||null===(s=v[0])||void 0===s||null===(l=s.data)||void 0===l||null===(c=l.displayProperties)||void 0===c?void 0:c.icon),activityModeDescription:m?v.map((function(n){var e,i;return null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.displayProperties)||void 0===i?void 0:i.description})):null===v||void 0===v||null===(d=v[0])||void 0===d||null===(u=d.data)||void 0===u||null===(p=u.displayProperties)||void 0===p?void 0:p.description,data:v,isLoading:v.map((function(n){return n.isLoading})),someIsLoading:v.some((function(n){return n.isLoading}))}},vn=function(n){var e=n.hash,i=mn(e),t=i.activityMode,r=i.activityModeIcon,o=i.someIsLoading;return(0,w.jsxs)("h5",{className:"activity-type",children:[(0,w.jsx)(I.Z,{src:r}),o?(0,w.jsx)(U.Z,{size:"inline"}):t]})},hn=(0,a.forwardRef)((function(n,e){var i=n.data,t=n.name;t||(t=i.originalDisplayProperties.name),"Nightfall"===i.originalDisplayProperties.name&&(t=i.originalDisplayProperties.description);var r=V(i);return(0,w.jsxs)("section",{ref:e,className:"activity-header",style:{backgroundImage:"url(".concat(r,")")},children:[(0,w.jsx)(vn,{hash:null===i||void 0===i?void 0:i.directActivityModeHash}),(0,w.jsx)("h1",{className:"activity-name",children:t}),(0,w.jsx)(ln,{id:i.destinationHash})]})}));hn.defaultProps={};var fn=(0,a.forwardRef)((function(n,e){var i,t,r,o,a=n.data,s=null===a||void 0===a||null===(i=a.displayProperties)||void 0===i?void 0:i.name,l=null===a||void 0===a||null===(t=a.displayProperties)||void 0===t?void 0:t.icon,c=null!==a&&void 0!==a&&null!==(r=a.displayProperties)&&void 0!==r&&r.description?(0,w.jsx)("p",{children:null===a||void 0===a||null===(o=a.displayProperties)||void 0===o?void 0:o.description.replace(/(?:[\s.,]*\n+[\s.,]*)+/g,"; ").replace(/(\[Disruption|Stagger\])/g,"|$1|").split("|")}):null;if(!l||!s)return null;var d=[{class:"arc",pattern:/arc/i},{class:"solar",pattern:/solar/i},{class:"void",pattern:/void/i},{class:"stasis",pattern:/stasis/i}];return(0,w.jsxs)("section",{ref:e,className:"activity-modifier",children:[(0,w.jsx)(I.Z,{className:J()("icon",d.filter((function(n){return n.pattern.test(s)})).map((function(n){return n.class}))),src:l,title:s}),(0,w.jsxs)("div",{className:"description",children:[(0,w.jsx)("h6",{className:J()("heading",d.filter((function(n){return n.pattern.test(s)})).map((function(n){return n.class}))),children:s}),c]})]})}));fn.defaultProps={};var yn={0:{known_shields:{Void:0,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:0,Unstoppable:0}},480864726:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:3,Overload:0,Unstoppable:1}},480864721:{known_shields:{Void:0,Solar:0,Arc:1},known_champions:{Barrier:5,Overload:0,Unstoppable:2}},145221019:{known_shields:{Void:5,Solar:0,Arc:7},known_champions:{Barrier:0,Overload:1,Unstoppable:2}},145221020:{known_shields:{Void:5,Solar:0,Arc:4},known_champions:{Barrier:0,Overload:4,Unstoppable:2}},3094493720:{known_shields:{Void:0,Solar:2,Arc:4},known_champions:{Barrier:3,Overload:0,Unstoppable:1}},3094493727:{known_shields:{Void:0,Solar:2,Arc:2},known_champions:{Barrier:3,Overload:0,Unstoppable:4}},2936791996:{known_shields:{Void:4,Solar:0,Arc:0},known_champions:{Barrier:2,Overload:2,Unstoppable:0}},2936791995:{known_shields:{Void:3,Solar:0,Arc:0},known_champions:{Barrier:5,Overload:4,Unstoppable:0}},1898610132:{known_shields:{Void:9,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:2,Unstoppable:2}},1898610131:{known_shields:{Void:10,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:4,Unstoppable:3}},660710127:{known_shields:{Void:1,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:2,Unstoppable:3}},660710120:{known_shields:{Void:1,Solar:0,Arc:0},known_champions:{Barrier:0,Overload:3,Unstoppable:4}},4206916275:{known_shields:{Void:17,Solar:2,Arc:0},known_champions:{Barrier:0,Overload:1,Unstoppable:3}},4206916276:{known_shields:{Void:29,Solar:2,Arc:1},known_champions:{Barrier:0,Overload:3,Unstoppable:5}},3911969233:{known_shields:{Void:0,Solar:0,Arc:4},known_champions:{Barrier:4,Overload:0,Unstoppable:3}},3911969238:{known_shields:{Void:0,Solar:0,Arc:1},known_champions:{Barrier:7,Overload:0,Unstoppable:3}},184186581:{known_shields:{Void:0,Solar:10,Arc:0},known_champions:{Barrier:3,Overload:2,Unstoppable:0}},184186578:{known_shields:{Void:0,Solar:10,Arc:0},known_champions:{Barrier:4,Overload:6,Unstoppable:0}},567131512:{known_shields:{Void:0,Solar:8,Arc:3},known_champions:{Barrier:3,Overload:2,Unstoppable:0}},567131519:{known_shields:{Void:0,Solar:8,Arc:3},known_champions:{Barrier:4,Overload:6,Unstoppable:0}},3678847129:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:0,Overload:3,Unstoppable:2}},3678847134:{known_shields:{Void:0,Solar:1,Arc:2},known_champions:{Barrier:0,Overload:3,Unstoppable:4}}};var xn=function(n){return yn[n]||{known_shields:void 0,known_champions:void 0}},gn=(0,a.forwardRef)((function(n,e){var i=n.data,t=(0,K.useQueries)(i.modifiers.map((function(n){return{queryKey:["DestinyActivityModifierDefinition",n.activityModifierHash]}})));if(!t.every((function(n){return n.isSuccess})))return t.some((function(n){return n.isLoading}))?(0,w.jsx)("section",{ref:e,className:"activity-modifiers",children:(0,w.jsx)(U.Z,{size:"section"})}):(t.filter((function(n){return n.error})).map((function(n){return console.error(n.error)})),null);var r=xn(null===i||void 0===i?void 0:i.hash),o=r.known_shields,a=r.known_champions,s=t.filter((function(n){return n.isSuccess&&n.data})).map((function(n){return n.data})),l=s.filter((function(n){return/shielded foes/i.test(n.displayProperties.name)})),c=s.filter((function(n){return/champion foes/i.test(n.displayProperties.name)})),d=s.filter((function(n){return!/(shielded|champion) foes|champions: mob| modifiers$/i.test(n.displayProperties.name)}));return(0,w.jsxs)("section",{ref:e,className:"activity-modifiers",children:[l.length>0&&(0,w.jsx)(jn,{shields:l,known_shields:o}),c.length>0&&(0,w.jsx)(sn,{champions:c,known_champions:a}),d.length>0&&(0,w.jsxs)("section",{className:"other-modifiers",children:[(0,w.jsx)("h5",{className:"heading",children:"Modifiers"}),(0,w.jsx)("div",{className:"modifiers",children:d.map((function(n,e){return(0,w.jsx)(fn,{data:n},e)}))})]})]})}));gn.defaultProps={};var wn=[{name:"Arc",pattern:/arc/i},{name:"Solar",pattern:/solar/i},{name:"Void",pattern:/void/i},{name:"Stasis",pattern:/stasis/i}],jn=(0,a.forwardRef)((function(n,e){var i=n.shields,t=n.known_shields;if(!i||i.length<1)return null;var r=new Set;return i.map((function(n){return wn.map((function(e){var i;return e.pattern.test(null===n||void 0===n||null===(i=n.displayProperties)||void 0===i?void 0:i.description)&&r.add(e.name)}))})),(0,w.jsxs)("section",{ref:e,className:"activity-shields",children:[(0,w.jsx)("h5",{className:"heading",children:"Shields"}),(0,w.jsx)("div",{className:"shields",children:rn(r).map((function(n,e){return(0,w.jsx)(on.Z,{contents:"".concat(n," Shields"),children:(0,w.jsxs)("div",{className:"shield",children:[(0,w.jsx)(T.Z,{icon:["elements",n],color:n}),t[n]>0&&(0,w.jsx)("span",{className:"shield-amount",children:t[n]})]},e)},e)}))})]})}));jn.defaultProps={shields:[],known_shields:{}};var kn=nn;function bn(){var n,e,i=(0,K.useQuery)("Milestones"),t=(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(e=n[1942283261])||void 0===e?void 0:e.activities)||[],r=(0,K.useQueries)(t.map((function(n){return{queryKey:["DestinyActivityDefinition",n.activityHash],enabled:!(null===n||void 0===n||!n.activityHash)}})));return i.isSuccess&&r.every((function(n){return n.isSuccess}))?(0,w.jsx)(L,{title:"Nightfall",start:16534116e5,period:o.g0,items:[(0,w.jsx)(B.Z,{triggerContent:r[0].data.displayProperties.description,children:(0,w.jsx)(kn,{dataArray:r})})],icon:"https://www.bungie.net/common/destiny2_content/icons/48dda413d9f412ca2b10fd56a35a2665.png",children:r[0].data.displayProperties.description}):null}var Sn=[{name:"Shattered Throne",id:2032534090},{name:"Pit of Heresy"},{name:"Prophecy"},{name:"Grasp of Avarice"}].map((function(n){return n.name}));function _n(){return(0,w.jsx)(L,{title:"Featured Dungeon",items:Sn,start:16534116e5,period:o.g0,icon:"https://www.bungie.net/common/destiny2_content/icons/DestinyActivityModeDefinition_f20ebb76bee675ca429e470cec58cc7b.png"})}function Dn(){return(0,w.jsx)(A,{title:"Solstice",description:"Visit Eva Levante in the Tower.",start:165825e7,end:16600644e5,icon:"https://www.bungie.net/common/destiny2_content/icons/2312abef9f52a56f96d4f5c6915d8981.png"})}var Nn="DestinyActivityDefinition";function Pn(n){var e,i=n.name,t=(0,K.useQuery)(["Search",Nn,i]),r=t.data,o=t.error,a=t.isLoading,s=(null===r||void 0===r||null===(e=r.results)||void 0===e?void 0:e.results)||[],l=(0,K.useQueries)(s.map((function(n){return{queryKey:[Nn,n.hash],enabled:!(null===n||void 0===n||!n.hash)}}))),c=l.map((function(n){var e;return null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.directActivityModeHash})),d=mn(c),u=d.activityMode,p=d.someIsLoading;if(a||l.some((function(n){return n.isLoading}))||p)return(0,w.jsx)("article",{className:"lost-sector",children:(0,w.jsx)(U.Z,{size:"page",fadeIn:"none"})});if(o||l.some((function(n){return n.error})))return o&&console.error(o),l.map((function(n){return n.error&&console.error(n.error)})),(0,w.jsx)("article",{className:"lost-sector",children:(0,w.jsx)("h2",{className:"error",children:"Can't find Lost Sector info..."})});var m=l.filter((function(n,e){return"Lost Sector"===u[e]&&n.data.displayProperties.name.startsWith(i+": ")&&n.data.index===l.reduce((function(e,i){return i.data.displayProperties.name===n.data.displayProperties.name?Math.max(e,i.data.index):e}),0)}));return 0===m.length?(0,w.jsx)("article",{className:"lost-sector",children:(0,w.jsx)("h2",{className:"error",children:"Can't find Lost Sector info..."})}):(0,w.jsx)(kn,{dataArray:m})}function Zn(n,e){return e?Zn(e,n%e):n}function An(n,e){return n*e/Zn(n,e)}function On(n){var e=n.location;return(0,w.jsx)(B.Z,{triggerContent:(0,w.jsxs)("span",{className:"a-link",children:[e.name," - ",e.location]}),background:"https://www.bungie.net/common/destiny2_content/icons/DestinyActivityModeDefinition_7d11acd7d5a3daebc0a0c906452932d6.png",children:(0,w.jsx)(Pn,{name:e.name})})}function Mn(){var n=(0,a.useMemo)((function(){var n=[{name:"K1 Crew Quarters",location:"Moon"},{name:"K1 Logistics",location:"Moon"},{name:"K1 Revelation",location:"Moon"},{name:"K1 Communion",location:"Moon"},{name:"The Conflux",location:"Nessus"},{name:"Metamorphosis",location:"Throne World"},{name:"Sepulcher",location:"Throne World"},{name:"Extraction",location:"Throne World"},{name:"Excavation Site XII",location:"EDZ"},{name:"Skydock IV",location:"EDZ"},{name:"The Quarry",location:"EDZ"}],e=["Chest","Helmet","Legs","Arms"],i=[];do{i.push((0,w.jsxs)("div",{children:[(0,w.jsx)(On,{location:n[i.length%n.length]})," (",e[i.length%e.length],")"]}))}while(i.length<An(e.length,n.length));return i}),[]);return(0,w.jsx)(L,{title:"Legend & Master Lost Sector",items:n,start:16534116e5,period:o.v0,icon:"https://www.bungie.net/common/destiny2_content/icons/DestinyActivityModeDefinition_7d11acd7d5a3daebc0a0c906452932d6.png"})}var Ln=["EDZ","Cosmodrome","Moon"].map((function(n){return(0,w.jsx)("div",{children:n})}));function Cn(){return(0,w.jsx)(L,{title:"PsiOps Battleground: Legend",items:Ln,start:16521156e5,period:o.v0,icon:"https://www.bungie.net/common/destiny2_content/icons/b5ca23093632aa939e8209a2ee558106.png"})}var Tn=[{name:"Last Wish",id:2032534090},{name:"Garden of Salvation"},{name:"Deep Stone Crypt"},{name:"Vault of Glass"}].map((function(n){return n.name}));function In(){return(0,w.jsx)(L,{title:"Featured Raid",items:Tn,start:16534116e5,period:o.g0,icon:"https://www.bungie.net/common/destiny2_content/icons/8b1bfd1c1ce1cab51d23c78235a6e067.png"})}var Un=i(9921),Bn=[{title:"Daily Reset",start:Un.OW,period:o.v0,icon:"https://cdn.jsdelivr.net/gh/game-icons/icons@c10320edc7ae3f28a29d172e0dd3f029411825d7/delapouite/clockwise-rotation.svg"},{title:"Weekly Reset",start:Un.eM,period:o.g0,icon:"https://cdn.jsdelivr.net/gh/game-icons/icons@c10320edc7ae3f28a29d172e0dd3f029411825d7/delapouite/clockwise-rotation.svg",link:"https://kyber3000.com/reset"},{title:"Weekend Activities",start:Un.Wp,end:Un.VT,period:o.g0,icon:"https://cdn.jsdelivr.net/gh/game-icons/icons@c10320edc7ae3f28a29d172e0dd3f029411825d7/delapouite/clockwise-rotation.svg",description:(0,w.jsxs)("ul",{children:[(0,w.jsx)("li",{children:(0,w.jsx)(C.Z,{href:"https://kyber3000.com/Xur",children:"Xur"})}),(0,w.jsx)("li",{children:(0,w.jsx)(C.Z,{href:"https://kyber3000.com/Trials",children:"Trials of Osiris"})})]})}];function Vn(){return Bn.map((function(n,e){return(0,w.jsx)(A,(0,m.Z)({},n),e)}))}function En(){var n,e,i=(0,K.useQuery)("Settings"),t=null===i||void 0===i||null===(n=i.data)||void 0===n||null===(e=n.destiny2CoreSettings)||void 0===e?void 0:e.currentSeasonHash,r=(0,K.useQuery)(["DestinySeasonDefinition",t],{enabled:!!t}),o=r.isLoading,a=r.error,s=r.data;return i.isLoading||o?null:i.error||a?(console.error(i.error),null):(0,w.jsx)(A,{title:"Season ".concat(s.seasonNumber,": ").concat(s.displayProperties.name),description:s.displayProperties.description,start:s.startDate,end:s.endDate,icon:"".concat("https://bungie.net").concat(s.displayProperties.icon)})}var Rn=[(0,w.jsx)(z,{id:"2721157927",name:"Tarnation"}),(0,w.jsx)(z,{id:"1399109800",name:"Fel Taradiddle"}),(0,w.jsx)(z,{id:"3865728990",name:"Father's Sins"}),(0,w.jsx)(z,{id:"927567426",name:"Come to Pass"})];function Hn(){return(0,w.jsx)(L,{title:"Wellspring Weapon",items:Rn,start:1648746e6,period:o.v0,icon:"https://www.bungie.net/common/destiny2_content/icons/DestinyMilestoneDefinition_feb5aecca544ab023ecf3b74ac8f509b.png"})}var Qn=[{name:"Destiny Server and Update Status",link:"https://help.bungie.net/hc/en-us/articles/360049199271-Destiny-Server-and-Update-Status"},{name:"Bungie Maintenance Notifications",link:"https://twitter.com/BungieHelp"},{name:"Patch Notes",link:"https://www.bungie.net/en/Explore/Category?category=Updates"}];function Wn(){var n=a.useState(Date.now()),e=(0,r.Z)(n,2),i=e[0],t=e[1];return a.useEffect((function(){var n=setTimeout((function(){t((function(){return Date.now()}))}),o.xO-i%o.xO);return function(){return clearTimeout(n)}}),[i]),(0,w.jsxs)("div",{className:"timers-wrapper",children:[(0,w.jsx)("h1",{children:"Timers"}),(0,w.jsxs)("div",{className:"timers",children:[(0,w.jsx)(Dn,{}),(0,w.jsx)(bn,{}),(0,w.jsx)(Mn,{}),(0,w.jsx)(Hn,{}),(0,w.jsx)(X,{}),(0,w.jsx)(_n,{}),(0,w.jsx)(In,{}),(0,w.jsx)(En,{}),(0,w.jsx)(Cn,{}),(0,w.jsx)(Vn,{})]}),(0,w.jsx)("div",{className:"links",children:Qn.map((function(n){return(0,w.jsx)($.Z,{href:n.link,children:n.name},n.name)}))})]})}}}]);
//# sourceMappingURL=519.4eaa1c7b.chunk.js.map